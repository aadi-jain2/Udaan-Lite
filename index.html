<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Udaan Lite">
    <meta name="theme-color" content="#a8d8ea">
    <title>Udaan Lite - Financial Literacy App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { -webkit-tap-highlight-color: transparent; }
        body { 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            font-weight: 400; 
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            background: linear-gradient(135deg, #1e3a8a 0%, #3730a3 25%, #7c3aed 50%, #c026d3 75%, #db2777 100%);
            color: #1f2937;
            min-height: 100vh;
            line-height: 1.6;
        }
        .mobile-container { max-width: 100vw; margin: 0 auto; }
        
        /* Professional Button Styles */
        .btn-primary { 
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: #ffffff;
            font-weight: 600;
            padding: 16px 28px;
            border-radius: 16px;
            box-shadow: 
                0 10px 25px rgba(59, 130, 246, 0.25),
                0 4px 12px rgba(29, 78, 216, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: none;
            font-size: 15px;
            width: 100%;
            position: relative;
            overflow: hidden;
            letter-spacing: 0.025em;
        }
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.6s;
        }
        .btn-primary:hover::before {
            left: 100%;
        }
        .btn-primary:hover { 
            transform: translateY(-2px);
            box-shadow: 
                0 15px 35px rgba(59, 130, 246, 0.35),
                0 8px 20px rgba(29, 78, 216, 0.25),
                inset 0 1px 0 rgba(255, 255, 255, 0.15);
        }
        .btn-primary:active { 
            transform: translateY(0px);
            box-shadow: 
                0 6px 20px rgba(59, 130, 246, 0.3),
                0 3px 8px rgba(29, 78, 216, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }
        
        .btn-secondary { 
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
            color: #ffffff;
            font-weight: 600;
            padding: 16px 28px;
            border-radius: 16px;
            box-shadow: 
                0 10px 25px rgba(139, 92, 246, 0.25),
                0 4px 12px rgba(124, 58, 237, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: none;
            font-size: 15px;
            width: 100%;
            position: relative;
            overflow: hidden;
            letter-spacing: 0.025em;
        }
        .btn-secondary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.6s;
        }
        .btn-secondary:hover::before {
            left: 100%;
        }
        .btn-secondary:hover { 
            transform: translateY(-2px);
            box-shadow: 
                0 15px 35px rgba(139, 92, 246, 0.35),
                0 8px 20px rgba(124, 58, 237, 0.25),
                inset 0 1px 0 rgba(255, 255, 255, 0.15);
        }
        .btn-secondary:active { 
            transform: translateY(0px);
            box-shadow: 
                0 6px 20px rgba(139, 92, 246, 0.3),
                0 3px 8px rgba(124, 58, 237, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }
        
        /* Professional Card Styles */
        .card { 
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(24px);
            border-radius: 20px;
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.08),
                0 8px 24px rgba(0, 0, 0, 0.04),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
            padding: 24px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
        }
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
        }
        .card:hover { 
            transform: translateY(-8px);
            box-shadow: 
                0 20px 40px rgba(102, 126, 234, 0.3),
                0 8px 20px rgba(240, 147, 251, 0.2);
        }
        .card:active { 
            transform: translateY(-4px);
            box-shadow: 
                0 12px 24px rgba(102, 126, 234, 0.2),
                0 4px 10px rgba(240, 147, 251, 0.1);
        }
        
        /* Modern Navigation Styles */
        .nav-item { 
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 12px;
            border-radius: 24px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            min-width: 60px;
            position: relative;
            cursor: pointer;
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
        }
        .nav-item.active { 
            color: #ffffff;
            transform: scale(1.05);
            background: rgba(255, 255, 255, 0.08);
            box-shadow: 
                0 4px 16px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }
        .nav-item:hover {
            transform: scale(1.05);
            background: rgba(255, 255, 255, 0.05);
        }
        .nav-item:active {
            transform: scale(0.95);
        }
        
        /* Page Animations */
        .page { 
            min-height: 100vh;
            padding-bottom: 120px;
            animation: slideIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        @keyframes slideIn {
            from { 
                opacity: 0; 
                transform: translateY(40px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }
        
        /* Enhanced Animations */
        @keyframes slideInUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .slide-in-up { animation: slideInUp 0.6s ease-out; }
        
        @keyframes slideInDown {
            from { transform: translateY(-30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .slide-in-down { animation: slideInDown 0.6s ease-out; }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .fade-in { animation: fadeIn 0.8s ease-out; }
        
        /* Floating Animation */
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-8px) rotate(1deg); }
            50% { transform: translateY(-12px) rotate(0deg); }
            75% { transform: translateY(-8px) rotate(-1deg); }
        }
        .float { animation: float 4s ease-in-out infinite; }
        
        /* Pulse Animation */
        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.08); }
        }
        .pulse { animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        
        /* Glow Animation */
        @keyframes glow {
            0%, 100% { 
                box-shadow: 0 0 20px rgba(99, 102, 241, 0.3), 0 0 40px rgba(99, 102, 241, 0.1);
            }
            50% { 
                box-shadow: 0 0 30px rgba(99, 102, 241, 0.6), 0 0 60px rgba(99, 102, 241, 0.2);
            }
        }
        .glow { animation: glow 2s ease-in-out infinite; }
        
        /* Shimmer Animation */
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        .shimmer {
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
        }
        
        /* Bounce Animation */
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        .bounce { animation: bounce 1s infinite; }
        
        /* Rotate Animation */
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .rotate { animation: rotate 2s linear infinite; }
        
        /* Loading Animation */
        @keyframes loading {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.7; }
            100% { transform: scale(1); opacity: 1; }
        }
        .loading { animation: loading 1.5s ease-in-out infinite; }
        
        /* Success Animation */
        @keyframes success {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        .success { animation: success 0.6s ease-out; }
        
        /* Error Animation */
        @keyframes error {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        .error { animation: error 0.5s ease-in-out; }
        
        /* Accessibility Improvements */
        .btn-primary:focus, .btn-secondary:focus {
            outline: 3px solid rgba(102, 126, 234, 0.5);
            outline-offset: 2px;
        }
        
        .nav-item:focus {
            outline: 3px solid rgba(102, 126, 234, 0.5);
            outline-offset: 2px;
            border-radius: 12px;
        }
        
        /* High contrast mode support */
        @media (prefers-contrast: high) {
            .card {
                border: 2px solid #000;
            }
            .btn-primary, .btn-secondary {
                border: 2px solid #000;
            }
        }
        
        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
        
        /* Gradient Text */
        .gradient-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* Glass Effect */
        .glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Professional Neumorphism Effect */
        .neumorphism {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            box-shadow: 
                0 8px 24px rgba(0, 0, 0, 0.08),
                0 4px 12px rgba(0, 0, 0, 0.04),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
        }
        
        /* Professional Typography */
        h1, h2, h3, h4, h5, h6 {
            font-weight: 700;
            letter-spacing: -0.025em;
            line-height: 1.2;
        }
        
        .text-gradient {
            background: linear-gradient(135deg, #1e40af 0%, #7c3aed 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .text-gradient-secondary {
            background: linear-gradient(135deg, #059669 0%, #0d9488 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .status-bar { height: env(safe-area-inset-top, 20px); }
        .safe-area-bottom { padding-bottom: env(safe-area-inset-bottom, 0px); }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #5a67d8, #6b46c1);
        }
        
        /* Modern Typography */
        h1, h2, h3, h4, h5, h6 {
            font-weight: 700;
            letter-spacing: -0.02em;
        }
        
        /* Glowing Elements */
        .glow-effect {
            position: relative;
        }
        .glow-effect::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: inherit;
            background: inherit;
            filter: blur(20px);
            opacity: 0.3;
            z-index: -1;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-900 via-black to-gray-800">
    <div class="status-bar"></div>
    <div id="app" class="mobile-container">
        <!-- Landing Page -->
        <div id="landing" class="page flex flex-col relative overflow-hidden">
            <!-- Animated Background -->
            <div class="absolute inset-0">
                <div class="absolute top-20 left-10 w-40 h-40 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-full blur-3xl animate-pulse"></div>
                <div class="absolute top-40 right-16 w-32 h-32 bg-gradient-to-r from-blue-500/20 to-indigo-500/20 rounded-full blur-3xl animate-pulse delay-1000"></div>
                <div class="absolute bottom-32 left-20 w-36 h-36 bg-gradient-to-r from-emerald-500/20 to-teal-500/20 rounded-full blur-3xl animate-pulse delay-2000"></div>
                <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-60 h-60 bg-gradient-to-r from-violet-500/10 to-purple-500/10 rounded-full blur-3xl animate-pulse delay-3000"></div>
            </div>

            <!-- Header -->
            <header class="relative z-10 flex justify-between items-center px-6 py-6 glass border-b border-white/10">
                <div class="flex items-center space-x-4">
                    <div class="w-14 h-14 neumorphism rounded-2xl flex items-center justify-center glow-effect">
                        <span class="text-white text-2xl">📚</span>
                    </div>
                    <div>
                        <span class="text-3xl font-bold gradient-text" id="header-title">Udaan</span>
                        <p class="text-xs text-white -mt-1">Financial Literacy</p>
                </div>
                </div>
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 glass rounded-full flex items-center justify-center">
                        <span class="text-white text-sm">🌐</span>
                    </div>
                    <select id="language-selector" class="bg-transparent text-sm text-white border-none outline-none font-medium" onchange="changeLanguage()">
                        <option value="en">English</option>
                        <option value="hi">हिंदी</option>
                    </select>
                </div>
            </header>

            <!-- Main Content -->
            <main class="flex-1 flex flex-col items-center justify-center px-6 text-center relative z-10">
                <!-- Hero Section -->
                <div class="max-w-4xl mx-auto">
                    <!-- Main Title -->
                    <div class="mb-12 slide-in-down">
                    <h1 class="text-7xl md:text-8xl font-bold gradient-text mb-6 tracking-tight" id="app-title">Udaan</h1>
                    <p class="text-2xl md:text-3xl text-white font-light mb-4" id="app-subtitle">Financial Literacy</p>
                    <p class="text-lg text-white/90 font-medium max-w-2xl mx-auto leading-relaxed" id="app-tagline">Learn to Earn - Empowering Financial Dreams in Every City</p>
                    </div>

                    <!-- Logo Area -->
                    <div class="relative mb-16 slide-in-up">
                        <div class="w-48 h-48 md:w-56 md:h-56 neumorphism rounded-3xl flex items-center justify-center mx-auto relative overflow-hidden glow-effect pulse">
                            <div class="absolute inset-0 bg-gradient-to-br from-white/5 to-transparent shimmer"></div>
                            <div class="text-6xl md:text-7xl bounce">📖</div>
                            <div class="absolute bottom-3 right-3 w-16 h-16 neumorphism rounded-full flex items-center justify-center glow-effect">
                                <span class="text-white text-2xl">💰</span>
                            </div>
                </div>

                        <!-- Floating decorative elements -->
                        <div class="absolute -top-8 -left-8 w-16 h-16 neumorphism rounded-full flex items-center justify-center float">
                            <span class="text-white text-2xl">✨</span>
                            </div>
                        <div class="absolute -bottom-8 -left-12 w-14 h-14 neumorphism rounded-full flex items-center justify-center float" style="animation-delay: 1s;">
                            <span class="text-white text-xl">💎</span>
                        </div>
                        <div class="absolute top-1/2 -right-12 w-12 h-12 neumorphism rounded-full flex items-center justify-center float" style="animation-delay: 2s;">
                            <span class="text-white text-lg">🚀</span>
                    </div>
                </div>

                    <!-- Tagline -->
                    <div class="mb-12 fade-in" style="animation-delay: 0.5s;">
                        <p class="text-xl md:text-2xl text-white max-w-3xl mx-auto leading-relaxed font-medium" id="app-tagline">
                            Learn to Earn - Bridging India's Financial Literacy Gap
                        </p>
                    </div>
                </div>

                <!-- Hero Cards -->
                <div class="mb-12 w-full max-w-sm">
                    <div class="card mb-8 slide-in-up" style="animation-delay: 0.3s;">
                        <div class="flex items-center justify-center mb-6">
                            <div class="w-20 h-20 neumorphism rounded-2xl flex items-center justify-center glow-effect pulse">
                                <span class="text-white text-3xl">🎯</span>
                            </div>
                        </div>
                        <h3 class="text-xl font-bold text-gray-800 mb-3" id="access-title">Start Your Journey</h3>
                        <p class="text-gray-600 text-sm mb-6">Choose how you'd like to begin learning</p>
                        
                        <div class="space-y-4">
                            <button onclick="showAccessCode()" class="btn-primary flex items-center justify-center space-x-3 bounce">
                                <span class="text-xl">🔑</span>
                                <span id="access-code-btn">Enter Access Code</span>
                            </button>
                            <button onclick="startFreeTrial()" class="btn-secondary flex items-center justify-center space-x-3 bounce">
                                <span class="text-xl">🆓</span>
                                <span id="free-trial-btn">Free Trial (3 modules)</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Feature Cards -->
                <div class="space-y-4 w-full max-w-sm">
                    <button onclick="showPage('modules', event)" class="w-full p-6 neumorphism rounded-2xl font-semibold text-gray-800 hover:scale-105 transition-all duration-300 flex items-center justify-center space-x-4 glow-effect slide-in-up group" style="animation-delay: 0.5s;">
                        <span class="text-3xl group-hover:scale-110 transition-transform duration-300">🚀</span>
                        <span id="start-learning-btn" class="text-lg">Start Learning</span>
                        <span class="text-sm opacity-60 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-300">→</span>
                    </button>
                    <button onclick="showPage('girls-mode', event)" class="w-full p-6 neumorphism rounded-2xl font-semibold text-gray-800 hover:scale-105 transition-all duration-300 flex items-center justify-center space-x-4 glow-effect slide-in-up group" style="animation-delay: 0.7s;">
                        <span class="text-3xl group-hover:scale-110 transition-transform duration-300">🌸</span>
                        <span id="womens-mode-btn" class="text-lg">Women's Mode</span>
                        <span class="text-sm opacity-60 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-300">→</span>
                    </button>
                    <button onclick="showPage('ai-assistant', event)" class="w-full p-6 neumorphism rounded-2xl font-semibold text-gray-800 hover:scale-105 transition-all duration-300 flex items-center justify-center space-x-4 glow-effect slide-in-up group" style="animation-delay: 0.9s;">
                        <span class="text-3xl group-hover:scale-110 transition-transform duration-300">🤖</span>
                        <span id="ai-assistant-btn" class="text-lg">AI Assistant</span>
                        <span class="text-sm opacity-60 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-300">→</span>
                    </button>
                </div>
            </main>

            <!-- Footer -->
            <footer class="relative z-10 px-6 py-6 text-center">
                <p class="text-sm text-white font-medium" id="footer-text">Empowering financial literacy across India</p>
            </footer>
        </div>

        <!-- Learning Modules Page -->
        <div id="modules" class="hidden page px-6 py-6 pb-32 relative overflow-hidden">
            <!-- Animated Background -->
            <div class="absolute inset-0">
                <div class="absolute top-20 right-10 w-48 h-48 bg-gradient-to-r from-purple-500/15 to-pink-500/15 rounded-full blur-3xl animate-pulse"></div>
                <div class="absolute bottom-40 left-10 w-40 h-40 bg-gradient-to-r from-blue-500/15 to-indigo-500/15 rounded-full blur-3xl animate-pulse delay-1000"></div>
                <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 rounded-full blur-3xl animate-pulse delay-2000"></div>
                </div>

            <div class="max-w-sm mx-auto relative z-10">
                <!-- Header -->
                <div class="text-center mb-10 slide-in-down">
                    <div class="w-20 h-20 neumorphism rounded-2xl flex items-center justify-center mx-auto mb-6 glow-effect pulse">
                        <span class="text-white text-3xl">📚</span>
                    </div>
                    <h1 class="text-4xl font-bold text-gradient mb-3" id="modules-title">Learning Modules</h1>
                    <p class="text-gray-600 text-lg font-medium max-w-md mx-auto leading-relaxed" id="modules-subtitle">Master financial literacy step by step</p>
                </div>

                <!-- Points Display -->
                <div class="card mb-10">
                        <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-5">
                            <div class="w-16 h-16 neumorphism rounded-xl flex items-center justify-center glow-effect">
                                <span class="text-white text-2xl">⭐</span>
                            </div>
                            <div>
                                <span class="font-bold text-gray-800 text-xl" id="points">0 Points</span>
                                <p class="text-xs text-gray-600">Keep learning!</p>
                        </div>
                    </div>
                        <div class="text-right">
                            <div class="w-12 h-12 neumorphism rounded-full flex items-center justify-center glow-effect">
                                <span class="text-white text-lg">🔥</span>
                        </div>
                            </div>
                        </div>
                    </div>

                <!-- Modules Grid -->
                <div class="space-y-6">
                    <!-- Module 1 - Completed -->
                    <div class="card cursor-pointer transform hover:scale-105 transition-all duration-300 glow-effect group" onclick="openModule(1)">
                        <div class="flex items-start justify-between mb-6">
                            <div class="flex-1">
                                <div class="flex items-center space-x-5 mb-4">
                                    <div class="w-16 h-16 neumorphism rounded-xl flex items-center justify-center glow-effect group-hover:scale-110 transition-transform duration-300">
                                        <span class="text-white text-2xl">🎉</span>
                        </div>
                                    <h3 class="font-bold text-gray-800 text-2xl" id="module-1-title">Saving for Festivals</h3>
                        </div>
                                <p class="text-gray-600 text-base mb-6 leading-relaxed" id="module-1-desc">Learn how to budget and save for special occasions</p>
                    </div>
                            <div class="w-18 h-18 neumorphism rounded-full flex items-center justify-center glow-effect group-hover:scale-110 transition-transform duration-300">
                                <span class="text-white text-2xl">✓</span>
                </div>
            </div>
                            <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <div class="w-3 h-3 bg-emerald-400 rounded-full glow-effect"></div>
                                <span class="text-sm font-semibold text-emerald-400 uppercase tracking-wide" id="module-1-status">completed</span>
                            </div>
                            <div class="w-10 h-10 neumorphism rounded-full flex items-center justify-center glow-effect">
                                <span class="text-white text-sm">▶</span>
                                </div>
                            </div>
                        </div>

                    <!-- Module 2 - In Progress -->
                    <div class="card cursor-pointer transform hover:scale-105 transition-all duration-300 glow-effect" onclick="openModule(2)">
                        <div class="flex items-start justify-between mb-6">
                            <div class="flex-1">
                                <div class="flex items-center space-x-4 mb-3">
                                    <div class="w-14 h-14 neumorphism rounded-xl flex items-center justify-center glow-effect">
                                        <span class="text-white text-xl">🏍️</span>
                            </div>
                                    <h3 class="font-bold text-gray-800 text-xl" id="module-2-title">Buying a Scooter</h3>
                                </div>
                                <p class="text-gray-600 text-sm mb-5" id="module-2-desc">Smart purchasing decisions for transportation</p>
                            </div>
                            <div class="w-16 h-16 neumorphism rounded-full flex items-center justify-center glow-effect">
                                <span class="text-white text-2xl">▶</span>
                        </div>
                            </div>
                            <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <div class="w-3 h-3 bg-blue-400 rounded-full animate-pulse glow-effect"></div>
                                <span class="text-sm font-semibold text-blue-400 uppercase tracking-wide" id="module-2-status">in progress</span>
                                </div>
                            <div class="w-10 h-10 neumorphism rounded-full flex items-center justify-center glow-effect">
                                <span class="text-white text-sm">▶</span>
                        </div>
                    </div>
                </div>

                    <!-- Module 3 - Locked -->
                    <div class="card opacity-60">
                        <div class="flex items-start justify-between mb-6">
                            <div class="flex-1">
                                <div class="flex items-center space-x-4 mb-3">
                                    <div class="w-14 h-14 neumorphism rounded-xl flex items-center justify-center">
                                        <span class="text-gray-500 text-xl">🔒</span>
                        </div>
                                    <h3 class="font-bold text-gray-500 text-xl" id="module-3-title">Loans 101</h3>
                    </div>
                                <p class="text-gray-600 text-sm mb-5" id="module-3-desc">Understanding different types of loans and interest</p>
                </div>
                            <div class="w-16 h-16 neumorphism rounded-full flex items-center justify-center">
                                <span class="text-gray-500 text-2xl">🔒</span>
                            </div>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <div class="w-3 h-3 bg-gray-500 rounded-full"></div>
                                <span class="text-sm font-semibold text-gray-500 uppercase tracking-wide" id="module-3-status">locked</span>
                            </div>
                            <div class="text-xs text-gray-600">Complete previous modules</div>
                        </div>
                    </div>
                        </div>
                    </div>
                </div>

        <!-- Women's Empowerment Mode -->
        <div id="girls-mode" class="hidden page bg-gradient-to-br from-pink-50 via-rose-50 to-purple-50 px-4 py-4 pb-32">
            <div class="max-w-sm mx-auto">
                <!-- Header -->
                <div class="flex items-center justify-between mb-6">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-gradient-to-br from-pink-400 to-rose-400 rounded-2xl flex items-center justify-center">
                            <span class="text-white text-xl">🌸</span>
                            </div>
                        <span class="text-2xl font-bold text-pink-800">Udaan</span>
                            </div>
                    <div class="w-10 h-10 bg-gradient-to-br from-pink-400 to-rose-400 rounded-full flex items-center justify-center">
                        <span class="text-white text-lg">👩</span>
                        </div>
                            </div>

                <!-- Main Content Card -->
                <div class="card mb-6 bg-gradient-to-r from-pink-200 to-rose-200 border-pink-300 cursor-pointer" onclick="openWomenModule(1)">
                    <div class="flex items-center justify-between">
                        <div class="flex-1">
                            <h2 class="text-lg font-bold text-pink-800 mb-1">Shopping While Saving</h2>
                            <p class="text-sm text-pink-700 mb-3">Chapter 1</p>
                            <div class="flex items-center space-x-2">
                                <div class="w-20 bg-pink-300 rounded-full h-2">
                                    <div class="bg-pink-500 h-2 rounded-full" style="width: 25%"></div>
                            </div>
                                <span class="text-xs text-pink-600 font-medium">25% complete</span>
                        </div>
                            </div>
                        <div class="w-16 h-16 bg-gradient-to-br from-pink-300 to-rose-300 rounded-2xl flex items-center justify-center ml-4">
                            <span class="text-2xl">🛍️</span>
                        </div>
                    </div>
                </div>

                <!-- Today's Progress Section -->
                <div class="mb-6">
                    <h3 class="text-lg font-bold text-pink-800 text-center mb-4">Today's Progress</h3>
                    <div class="grid grid-cols-2 gap-4">
                        <!-- Lessons Card -->
                        <div class="card bg-pink-100 border-pink-200">
                            <div class="text-center">
                                <div class="w-12 h-12 bg-pink-200 rounded-xl flex items-center justify-center mx-auto mb-2">
                                    <span class="text-pink-600 text-xl">📚</span>
                            </div>
                                <p class="text-sm font-medium text-gray-700 mb-1">Lessons</p>
                                <p class="text-lg font-bold text-pink-600">2/8</p>
                        </div>
                    </div>

                        <!-- Badges Card -->
                        <div class="card bg-pink-100 border-pink-200">
                            <div class="text-center">
                                <div class="w-12 h-12 bg-pink-200 rounded-xl flex items-center justify-center mx-auto mb-2">
                                    <span class="text-pink-600 text-xl">🏆</span>
                            </div>
                                <p class="text-sm font-medium text-gray-700 mb-1">Badges</p>
                                <p class="text-lg font-bold text-pink-600">2</p>
                            </div>
                        </div>
                        </div>
                    </div>

                <!-- My Story Card -->
                <div class="card mb-4 bg-pink-100 border-pink-200">
                        <div class="flex items-center space-x-3">
                        <div class="w-12 h-12 bg-gradient-to-br from-pink-300 to-rose-300 rounded-full flex items-center justify-center flex-shrink-0">
                            <span class="text-pink-700 text-lg">👩</span>
                            </div>
                        <div class="flex-1">
                            <h4 class="font-semibold text-gray-800 text-sm mb-1">My Story</h4>
                            <p class="text-gray-600 text-xs leading-relaxed">I used to shop without a plan, but now I save money while buying what I need!</p>
                            </div>
                        </div>
                            </div>

                <!-- Tips & Tricks Card -->
                <div class="card mb-6 bg-pink-100 border-pink-200">
                    <div class="flex items-center space-x-3">
                        <div class="w-12 h-12 bg-gradient-to-br from-pink-300 to-rose-300 rounded-full flex items-center justify-center flex-shrink-0">
                            <span class="text-pink-700 text-lg">💰</span>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-semibold text-gray-800 text-sm mb-1">Tips & Tricks</h4>
                            <p class="text-gray-600 text-xs">Smart shopping strategies for women</p>
                        </div>
                    </div>
                </div>

                <!-- Additional Modules -->
                    <div class="space-y-3">
                    <div class="card border-purple-200 bg-purple-100 cursor-pointer" onclick="openWomenModule(2)">
                        <div class="flex items-start justify-between mb-3">
                            <h3 class="font-semibold text-gray-800 text-sm">Starting a Small Business</h3>
                            <span class="text-purple-400 text-lg">▶</span>
                            </div>
                        <p class="text-gray-600 text-xs mb-3">Turn your skills into income</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs font-medium text-purple-500 uppercase tracking-wide">in progress</span>
                            <div class="w-6 h-6 bg-purple-300 rounded-full flex items-center justify-center">
                                <span class="text-purple-800 text-xs">▶</span>
                        </div>
                    </div>
                </div>

                    <div class="card border-rose-200 bg-rose-100 cursor-pointer" onclick="openWomenModule(3)">
                        <div class="flex items-start justify-between mb-3">
                            <h3 class="font-semibold text-gray-800 text-sm">Saving for Children's Education</h3>
                            <span class="text-rose-400 text-lg">▶</span>
                            </div>
                        <p class="text-gray-600 text-xs mb-3">Plan for your children's future</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs font-medium text-rose-500 uppercase tracking-wide">available</span>
                            <div class="w-6 h-6 bg-rose-300 rounded-full flex items-center justify-center">
                                <span class="text-rose-800 text-xs">▶</span>
                        </div>
                            </div>
                        </div>
                </div>
            </div>
        </div>

        <!-- Rewards Page -->
        <div id="rewards" class="hidden page bg-gradient-to-br from-orange-100 to-blue-100 px-4 py-4 pb-32">
            <div class="max-w-sm mx-auto">
                <!-- Header -->
                <div class="text-center mb-6">
                    <div class="flex items-center justify-center space-x-3 mb-4">
                        <div class="w-12 h-12 bg-gradient-to-r from-orange-300 to-blue-300 rounded-2xl flex items-center justify-center">
                            <span class="text-orange-800 text-xl">🎁</span>
                        </div>
                        <h1 class="text-2xl font-bold text-gray-800">Points & Rewards</h1>
                    </div>
                    <p class="text-gray-600 text-sm">Your learning journey, your rewards ✨</p>
                </div>

                <!-- Points Profile Card -->
                <div class="card mb-6">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-r from-orange-400 to-blue-400 rounded-3xl flex items-center justify-center mx-auto mb-4">
                            <span class="text-white text-2xl">🏆</span>
                        </div>
                        <h2 class="text-xl font-bold text-gray-800 mb-2">Your Progress</h2>
                        <div class="flex items-center justify-center space-x-2 mb-4">
                            <span class="text-xl">⭐</span>
                            <span class="text-2xl font-bold text-gray-800" id="rewards-points">0</span>
                            <span class="text-gray-600 text-sm">Points</span>
                        </div>
                        <div class="mb-4">
                            <div class="flex justify-between text-xs text-gray-600 mb-2">
                                <span>Progress to next reward</span>
                                <span>0%</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="bg-gradient-to-r from-orange-400 to-blue-400 h-2 rounded-full" style="width: 0%"></div>
                            </div>
                        </div>
                        <div class="bg-gradient-to-r from-orange-50 to-blue-50 rounded-xl p-3">
                            <p class="text-xs text-gray-600 mb-1">Next Reward</p>
                            <p class="font-semibold text-gray-800 text-sm">₹1 Voucher</p>
                            <p class="text-xs text-gray-600">10 more points needed</p>
                        </div>
                    </div>
                </div>

                <!-- Rewards -->
                <div class="space-y-3">
                    <h3 class="text-lg font-bold text-gray-800 mb-3">Available Rewards</h3>
                    
                    <div class="card border-gray-200 bg-gray-50">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 bg-gray-300 rounded-xl flex items-center justify-center">
                                    <span class="text-white text-lg">🎁</span>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-gray-800 text-sm">₹1 Voucher</h4>
                                    <p class="text-xs text-gray-600">Small reward for your progress</p>
                                    <div class="flex items-center space-x-1 mt-1">
                                        <span class="text-lg">⭐</span>
                                        <span class="text-xs font-medium text-gray-700">10 points</span>
                                    </div>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="text-xs text-gray-500">Need 10 more</div>
                            </div>
                        </div>
                    </div>

                    <div class="card border-gray-200 bg-gray-50">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 bg-gray-300 rounded-xl flex items-center justify-center">
                                    <span class="text-white text-lg">🎁</span>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-gray-800 text-sm">Discount Coupon</h4>
                                    <p class="text-xs text-gray-600">Save on your next purchase</p>
                                    <div class="flex items-center space-x-1 mt-1">
                                        <span class="text-lg">⭐</span>
                                        <span class="text-xs font-medium text-gray-700">30 points</span>
                                    </div>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="text-xs text-gray-500">Need 30 more</div>
                            </div>
                        </div>
                    </div>

                    <div class="card border-gray-200 bg-gray-50">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 bg-gray-300 rounded-xl flex items-center justify-center">
                                    <span class="text-white text-lg">🎁</span>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-gray-800 text-sm">Premium Content</h4>
                                    <p class="text-xs text-gray-600">Unlock advanced lessons</p>
                                    <div class="flex items-center space-x-1 mt-1">
                                        <span class="text-lg">⭐</span>
                                        <span class="text-xs font-medium text-gray-700">50 points</span>
                                    </div>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="text-xs text-gray-500">Need 50 more</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Achievement Badges -->
                <div class="card mt-6">
                    <h3 class="text-lg font-bold text-gray-800 mb-4">Achievements</h3>
                    <div class="grid grid-cols-2 gap-3">
                        <div class="text-center p-3 bg-gradient-to-r from-orange-50 to-blue-50 rounded-xl border border-orange-200">
                            <div class="text-2xl mb-1">👶</div>
                            <p class="text-xs font-medium text-gray-800">First Steps</p>
                            <p class="text-xs text-gray-500">Earn 10 points</p>
                        </div>
                        <div class="text-center p-3 bg-gray-50 rounded-xl border border-gray-200">
                            <div class="text-2xl mb-1">⚡</div>
                            <p class="text-xs font-medium text-gray-500">Quick Learner</p>
                            <p class="text-xs text-gray-400">Earn 30 points</p>
                        </div>
                        <div class="text-center p-3 bg-gray-50 rounded-xl border border-gray-200">
                            <div class="text-2xl mb-1">🎯</div>
                            <p class="text-xs font-medium text-gray-500">Dedicated</p>
                            <p class="text-xs text-gray-400">Earn 50 points</p>
                        </div>
                        <div class="text-center p-3 bg-gray-50 rounded-xl border border-gray-200">
                            <div class="text-2xl mb-1">🏆</div>
                            <p class="text-xs font-medium text-gray-500">Expert</p>
                            <p class="text-xs text-gray-400">Earn 100 points</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Local Business & Tools Page -->
        <div id="local-business" class="hidden page bg-gradient-to-br from-green-100 via-teal-100 to-blue-100 px-4 py-4 pb-32">
            <div class="max-w-sm mx-auto">
                <!-- Header -->
                <div class="text-center mb-6">
                    <div class="w-20 h-20 bg-gradient-to-br from-green-400 via-teal-400 to-blue-400 rounded-full flex items-center justify-center mx-auto mb-3 shadow-xl">
                        <span class="text-white text-3xl">💼</span>
                    </div>
                    <h1 class="text-3xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent mb-2" id="local-business-title">Local Business Opportunities</h1>
                    <p class="text-green-600 text-sm font-medium" id="local-business-subtitle">Start earning in your city</p>
                </div>

                <!-- Business Ideas -->
                <div class="card mb-6">
                    <h3 class="font-bold text-gray-800 mb-4 text-sm flex items-center">
                        <span class="mr-2">💡</span> Business Ideas for Your City
                    </h3>
                    <div class="space-y-3">
                        <div class="p-3 bg-gradient-to-r from-green-50 to-teal-50 rounded-xl border border-green-200">
                            <h4 class="font-semibold text-green-800 text-sm mb-1" id="business-idea-1">Home-based Food Business</h4>
                            <p class="text-green-700 text-xs">Start with ₹500-2000. Sell homemade snacks, pickles, or meals to neighbors and local shops.</p>
                        </div>
                        <div class="p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200">
                            <h4 class="font-semibold text-blue-800 text-sm mb-1" id="business-idea-2">Online Tutoring Services</h4>
                            <p class="text-blue-700 text-xs">Teach subjects you know well. Earn ₹200-500 per hour from home using video calls.</p>
                        </div>
                        <div class="p-3 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-200">
                            <h4 class="font-semibold text-purple-800 text-sm mb-1" id="business-idea-3">Handicraft & Art Sales</h4>
                            <p class="text-purple-700 text-xs">Sell handmade items online or at local markets. Start with ₹1000-3000 investment.</p>
                        </div>
                        <div class="p-3 bg-gradient-to-r from-orange-50 to-red-50 rounded-xl border border-orange-200">
                            <h4 class="font-semibold text-orange-800 text-sm mb-1" id="business-idea-4">Local Delivery Services</h4>
                            <p class="text-orange-700 text-xs">Help local shops deliver products. Earn ₹50-100 per delivery using your scooter.</p>
                        </div>
                        <div class="p-3 bg-gradient-to-r from-pink-50 to-rose-50 rounded-xl border border-pink-200">
                            <h4 class="font-semibold text-pink-800 text-sm mb-1" id="business-idea-5">Beauty & Wellness Services</h4>
                            <p class="text-pink-700 text-xs">Offer home beauty services, yoga classes, or wellness consultations.</p>
                        </div>
                        <div class="p-3 bg-gradient-to-r from-teal-50 to-cyan-50 rounded-xl border border-teal-200">
                            <h4 class="font-semibold text-teal-800 text-sm mb-1" id="business-idea-6">Digital Marketing for Local Shops</h4>
                            <p class="text-teal-700 text-xs">Help local businesses with social media and online presence. Earn ₹2000-5000 per month.</p>
                        </div>
                    </div>
                </div>

                <!-- Financial Tools -->
                <div class="card mb-6">
                    <h3 class="font-bold text-gray-800 mb-4 text-sm flex items-center">
                        <span class="mr-2">🧮</span> <span id="tools-title">Financial Tools</span>
                    </h3>
                    <p class="text-gray-600 text-xs mb-4" id="tools-subtitle">Calculate and plan your finances</p>
                    <div class="space-y-3">
                        <button onclick="openCalculator('emi')" class="w-full p-3 bg-gradient-to-r from-blue-100 to-indigo-100 rounded-xl border border-blue-200 hover:scale-105 transition-all duration-300">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <span class="text-2xl">💰</span>
                                    <div>
                                        <h4 class="font-semibold text-blue-800 text-sm" id="emi-calculator">EMI Calculator</h4>
                                        <p class="text-blue-600 text-xs">Calculate loan payments</p>
                                    </div>
                                </div>
                                <span class="text-blue-600">→</span>
                            </div>
                        </button>
                        <button onclick="openCalculator('savings')" class="w-full p-3 bg-gradient-to-r from-green-100 to-teal-100 rounded-xl border border-green-200 hover:scale-105 transition-all duration-300">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <span class="text-2xl">🎯</span>
                                    <div>
                                        <h4 class="font-semibold text-green-800 text-sm" id="savings-calculator">Savings Goal Calculator</h4>
                                        <p class="text-green-600 text-xs">Plan your savings</p>
                                    </div>
                                </div>
                                <span class="text-green-600">→</span>
                            </div>
                        </button>
                        <button onclick="openCalculator('budget')" class="w-full p-3 bg-gradient-to-r from-purple-100 to-pink-100 rounded-xl border border-purple-200 hover:scale-105 transition-all duration-300">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <span class="text-2xl">📊</span>
                                    <div>
                                        <h4 class="font-semibold text-purple-800 text-sm" id="budget-planner">Monthly Budget Planner</h4>
                                        <p class="text-purple-600 text-xs">Plan your monthly expenses</p>
                                    </div>
                                </div>
                                <span class="text-purple-600">→</span>
                            </div>
                        </button>
                        <button onclick="openCalculator('investment')" class="w-full p-3 bg-gradient-to-r from-orange-100 to-red-100 rounded-xl border border-orange-200 hover:scale-105 transition-all duration-300">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <span class="text-2xl">📈</span>
                                    <div>
                                        <h4 class="font-semibold text-orange-800 text-sm" id="investment-calculator">Investment Returns Calculator</h4>
                                        <p class="text-orange-600 text-xs">Calculate investment growth</p>
                                    </div>
                                </div>
                                <span class="text-orange-600">→</span>
                            </div>
                        </button>
                    </div>
                </div>

                <!-- Success Stories -->
                <div class="card">
                    <h3 class="font-bold text-gray-800 mb-4 text-sm flex items-center">
                        <span class="mr-2">🌟</span> Success Stories from Tier 2/3 Cities
                    </h3>
                    <div class="space-y-3">
                        <div class="p-3 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl border border-yellow-200">
                            <h4 class="font-semibold text-yellow-800 text-sm mb-1">Priya from Indore</h4>
                            <p class="text-yellow-700 text-xs">Started home-based pickle business with ₹2000. Now earns ₹15,000/month selling to 5 local shops.</p>
                        </div>
                        <div class="p-3 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200">
                            <h4 class="font-semibold text-green-800 text-sm mb-1">Sunita from Coimbatore</h4>
                            <p class="text-green-700 text-xs">Online math tutoring for ₹300/hour. Teaches 20 students weekly, earning ₹24,000/month.</p>
                        </div>
                        <div class="p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200">
                            <h4 class="font-semibold text-blue-800 text-sm mb-1">Meera from Jaipur</h4>
                            <p class="text-blue-700 text-xs">Handicraft business on Instagram. Started with ₹5000, now sells ₹50,000 worth monthly.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Calculator Modal -->
        <div id="calculator-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
            <div class="bg-white rounded-2xl p-6 max-w-sm w-full max-h-[80vh] overflow-y-auto">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-xl font-bold text-gray-800" id="calculator-title">Financial Calculator</h2>
                    <button onclick="closeCalculator()" class="w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center">
                        <span class="text-gray-600">×</span>
                    </button>
                </div>
                <div id="calculator-content">
                    <!-- Calculator content will be inserted here -->
                </div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <div class="fixed bottom-0 left-0 right-0 glass border-t border-white/10 px-4 py-4 z-50 safe-area-bottom">
            <div class="flex justify-around items-center max-w-sm mx-auto">
                <button onclick="showPage('landing', event)" class="nav-item active text-gray-600 flex-1 group">
                    <div class="w-14 h-14 neumorphism rounded-2xl flex items-center justify-center glow-effect group-hover:scale-110 transition-all duration-300">
                        <span class="text-gray-600 text-xl group-hover:text-gray-800">🏠</span>
                    </div>
                    <span class="text-xs mt-2 font-semibold" id="nav-home">Home</span>
                </button>
                <button onclick="showPage('modules', event)" class="nav-item text-gray-600 flex-1 group">
                    <div class="w-14 h-14 neumorphism rounded-2xl flex items-center justify-center group-hover:scale-110 transition-all duration-300">
                        <span class="text-gray-600 text-xl group-hover:text-gray-800 transition-colors duration-300">📚</span>
                    </div>
                    <span class="text-xs mt-2 font-semibold" id="nav-modules">Modules</span>
                </button>
                <button onclick="showPage('girls-mode', event)" class="nav-item text-gray-600 flex-1 group">
                    <div class="w-14 h-14 neumorphism rounded-2xl flex items-center justify-center group-hover:scale-110 transition-all duration-300">
                        <span class="text-gray-600 text-xl group-hover:text-gray-800 transition-colors duration-300">🌸</span>
                    </div>
                    <span class="text-xs mt-2 font-semibold" id="nav-women">Women</span>
                </button>
                <button onclick="showPage('local-business', event)" class="nav-item text-gray-600 flex-1 group">
                    <div class="w-14 h-14 neumorphism rounded-2xl flex items-center justify-center group-hover:scale-110 transition-all duration-300">
                        <span class="text-gray-600 text-xl group-hover:text-gray-800 transition-colors duration-300">💼</span>
                    </div>
                    <span class="text-xs mt-2 font-semibold" id="nav-business">Business</span>
                </button>
                <button onclick="showPage('rewards', event)" class="nav-item text-gray-600 flex-1 group">
                    <div class="w-14 h-14 neumorphism rounded-2xl flex items-center justify-center group-hover:scale-110 transition-all duration-300">
                        <span class="text-gray-600 text-xl group-hover:text-gray-800 transition-colors duration-300">🎁</span>
                    </div>
                    <span class="text-xs mt-2 font-semibold" id="nav-rewards">Rewards</span>
                </button>
            </div>
        </div>

        <!-- Leaderboard Page -->
        <div id="leaderboard" class="hidden page bg-gradient-to-br from-yellow-100 via-orange-100 to-red-100 px-4 py-4 pb-32">
            <div class="max-w-sm mx-auto">
                <!-- Header -->
                <div class="text-center mb-6">
                    <div class="w-20 h-20 bg-gradient-to-br from-yellow-400 via-orange-400 to-red-400 rounded-full flex items-center justify-center mx-auto mb-3 shadow-xl">
                        <span class="text-white text-3xl">🏆</span>
                    </div>
                    <h1 class="text-3xl font-bold bg-gradient-to-r from-yellow-600 to-red-600 bg-clip-text text-transparent mb-2" id="leaderboard-title">Leaderboard</h1>
                    <p class="text-orange-600 text-sm font-medium" id="leaderboard-subtitle">Compete with other learners and win rewards!</p>
                </div>

                <!-- Your Rank -->
                <div class="card mb-6 bg-gradient-to-r from-yellow-100 to-orange-100 border-yellow-200">
                    <h3 class="font-bold text-yellow-800 mb-3 text-sm flex items-center justify-center">
                        <span class="mr-2">👤</span> <span id="your-rank">Your Current Rank</span>
                    </h3>
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-br from-yellow-400 to-orange-400 rounded-full flex items-center justify-center mx-auto mb-3">
                            <span class="text-white text-2xl font-bold" id="user-rank">#1</span>
                        </div>
                        <p class="text-yellow-800 font-bold text-lg" id="user-name">You</p>
                        <p class="text-orange-600 text-sm" id="user-score">0 Points</p>
                    </div>
                </div>

                <!-- Top Performers -->
                <div class="card mb-6 bg-gradient-to-r from-orange-100 to-red-100 border-orange-200">
                    <h3 class="font-bold text-orange-800 mb-4 text-sm flex items-center justify-center">
                        <span class="mr-2">🌟</span> <span id="top-performers">Top Performers</span>
                    </h3>
                    <div class="space-y-3" id="leaderboard-list">
                        <!-- Leaderboard entries will be populated here -->
                    </div>
                </div>

                <!-- Incentives -->
                <div class="card mb-6 bg-gradient-to-r from-red-100 to-pink-100 border-red-200">
                    <h3 class="font-bold text-red-800 mb-4 text-sm flex items-center justify-center">
                        <span class="mr-2">🎁</span> <span id="monthly-incentives">Monthly Incentives</span>
                    </h3>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between p-3 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl border border-yellow-200">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">🥇</span>
                                <div>
                                    <p class="font-semibold text-yellow-800 text-sm" id="1st-place">1st Place</p>
                                    <p class="text-yellow-600 text-xs">₹500 <span id="cash-prize">Cash Prize</span></p>
                                </div>
                            </div>
                            <span class="text-yellow-600 font-bold text-sm">Top 1</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl border border-gray-200">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">🥈</span>
                                <div>
                                    <p class="font-semibold text-gray-700 text-sm" id="2nd-place">2nd Place</p>
                                    <p class="text-gray-600 text-xs">₹300 <span id="cash-prize-2">Cash Prize</span></p>
                                </div>
                            </div>
                            <span class="text-gray-600 font-bold text-sm">Top 2</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-gradient-to-r from-orange-50 to-yellow-50 rounded-xl border border-orange-200">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">🥉</span>
                                <div>
                                    <p class="font-semibold text-orange-700 text-sm" id="3rd-place">3rd Place</p>
                                    <p class="text-orange-600 text-xs">₹200 <span id="cash-prize-3">Cash Prize</span></p>
                                </div>
                            </div>
                            <span class="text-orange-600 font-bold text-sm">Top 3</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-200">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">🏅</span>
                                <div>
                                    <p class="font-semibold text-blue-700 text-sm" id="top-10">Top 10</p>
                                    <p class="text-blue-600 text-xs">₹100 <span id="cash-prize-4">Cash Prize</span></p>
                                </div>
                            </div>
                            <span class="text-blue-600 font-bold text-sm">Top 10</span>
                        </div>
                    </div>
                </div>

                <!-- Monthly Stats -->
                <div class="card mb-6 bg-gradient-to-r from-green-100 to-blue-100 border-green-200">
                    <h3 class="font-bold text-green-800 mb-3 text-sm flex items-center justify-center">
                        <span class="mr-2">📊</span> <span id="monthly-stats">This Month's Stats</span>
                    </h3>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="text-center">
                            <p class="text-2xl font-bold text-green-600" id="monthly-points">0</p>
                            <p class="text-green-700 text-xs" id="points-earned-monthly">Points Earned</p>
                        </div>
                        <div class="text-center">
                            <p class="text-2xl font-bold text-blue-600" id="monthly-modules">0</p>
                            <p class="text-blue-700 text-xs" id="modules-completed-monthly">Modules Completed</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- AI Assistant Page -->
        <div id="ai-assistant" class="hidden page bg-gradient-to-br from-indigo-100 via-purple-100 to-blue-100 px-4 py-4 pb-32">
            <div class="max-w-sm mx-auto">
                <!-- Header -->
                <div class="text-center mb-6">
                    <div class="w-20 h-20 bg-gradient-to-br from-indigo-500 via-purple-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-3 shadow-xl">
                        <span class="text-white text-3xl">🤖</span>
                    </div>
                    <h1 class="text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2" id="ai-title">AI Assistant</h1>
                    <p class="text-indigo-600 text-sm font-medium" id="ai-subtitle">Your personal financial advisor</p>
                </div>

                <!-- Chat Interface -->
                <div class="card mb-6 bg-white shadow-lg">
                    <div class="h-64 overflow-y-auto p-4 space-y-3" id="chat-messages">
                        <div class="flex items-start space-x-2">
                            <div class="w-8 h-8 bg-gradient-to-r from-indigo-400 to-purple-400 rounded-full flex items-center justify-center flex-shrink-0">
                                <span class="text-white text-sm">🤖</span>
                            </div>
                            <div class="bg-gray-100 rounded-lg p-3 max-w-xs">
                                <p class="text-gray-700 text-xs" id="ai-welcome">Hello! I'm your AI financial assistant. I can help you with:</p>
                                <ul class="text-gray-600 text-xs mt-2 space-y-1">
                                    <li id="ai-help-1">• Budgeting advice</li>
                                    <li id="ai-help-2">• Saving strategies</li>
                                    <li id="ai-help-3">• Investment basics</li>
                                    <li id="ai-help-4">• Loan information</li>
                                </ul>
                                <p class="text-gray-700 text-xs mt-2" id="ai-question">What would you like to know?</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Questions -->
                <div class="card mb-6 bg-gradient-to-r from-indigo-100 to-purple-100 border-indigo-200">
                    <h3 class="font-bold text-indigo-800 mb-3 text-sm flex items-center justify-center">
                        <span class="mr-2">💬</span> Quick Questions
                    </h3>
                    <div class="space-y-2">
                        <button onclick="askAI('How do I start saving money?')" class="w-full text-left p-2 bg-white rounded-lg text-xs text-gray-700 hover:bg-indigo-50 transition-colors">
                            💰 How do I start saving money?
                        </button>
                        <button onclick="askAI('What is a good emergency fund amount?')" class="w-full text-left p-2 bg-white rounded-lg text-xs text-gray-700 hover:bg-indigo-50 transition-colors">
                            🏠 What is a good emergency fund amount?
                        </button>
                        <button onclick="askAI('How can I reduce my expenses?')" class="w-full text-left p-2 bg-white rounded-lg text-xs text-gray-700 hover:bg-indigo-50 transition-colors">
                            📉 How can I reduce my expenses?
                        </button>
                        <button onclick="askAI('What are the basics of investing?')" class="w-full text-left p-2 bg-white rounded-lg text-xs text-gray-700 hover:bg-indigo-50 transition-colors">
                            📈 What are the basics of investing?
                        </button>
                    </div>
                </div>

                <!-- Input Area -->
                <div class="card bg-white shadow-lg">
                    <div class="flex space-x-2">
                        <input 
                            type="text" 
                            id="user-input" 
                            placeholder="Ask me anything about finance..."
                            class="flex-1 p-3 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-indigo-500"
                            onkeypress="handleKeyPress(event)"
                        />
                        <button onclick="sendMessage()" class="px-4 py-3 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-lg hover:from-indigo-600 hover:to-purple-600 transition-all">
                            <span class="text-sm">Send</span>
                        </button>
                    </div>
                </div>

                <!-- AI Tips -->
                <div class="card mt-6 bg-gradient-to-r from-purple-100 to-indigo-100 border-purple-200">
                    <h3 class="font-bold text-purple-800 mb-3 text-sm flex items-center justify-center">
                        <span class="mr-2">💡</span> AI Tips
                    </h3>
                    <div class="space-y-2">
                        <div class="flex items-start space-x-2">
                            <span class="text-purple-400 text-sm">🎯</span>
                            <p class="text-gray-700 text-xs">Be specific with your questions for better answers</p>
                        </div>
                        <div class="flex items-start space-x-2">
                            <span class="text-indigo-500 text-sm">📊</span>
                            <p class="text-gray-700 text-xs">Ask about your specific financial situation</p>
                        </div>
                        <div class="flex items-start space-x-2">
                            <span class="text-purple-400 text-sm">🔄</span>
                            <p class="text-gray-700 text-xs">Follow up with more questions if needed</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Module Detail Modal -->
        <div id="module-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
            <div class="bg-white rounded-2xl p-6 max-w-sm w-full max-h-[80vh] overflow-y-auto">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-xl font-bold text-gray-800" id="module-title">Module Title</h2>
                    <button onclick="closeModule()" class="p-2 hover:bg-gray-100 rounded-xl transition-colors">
                        <span class="text-gray-600 text-xl">×</span>
                    </button>
                </div>

                <div class="space-y-6">
                    <div>
                        <h3 class="font-semibold text-gray-800 mb-3">Lesson Content</h3>
                        <p class="text-gray-600 leading-relaxed text-sm" id="module-content">Module content will appear here...</p>
                    </div>

                    <div>
                        <h3 class="font-semibold text-gray-800 mb-3">Quick Quiz</h3>
                        <div class="bg-gray-50 rounded-xl p-4">
                            <p class="font-medium text-gray-800 mb-4 text-sm" id="quiz-question">Quiz question will appear here...</p>
                            <div class="space-y-2" id="quiz-options">
                                <!-- Quiz options will be added here -->
                            </div>
                        </div>
                    </div>

                    <div id="quiz-result" class="hidden p-4 rounded-xl">
                        <!-- Quiz result will appear here -->
                    </div>

                    <button onclick="completeModule()" id="complete-btn" class="btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed">
                        Complete Module
                    </button>
                </div>
            </div>
        </div>

        <!-- Access Code Modal -->
        <div id="access-code-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
            <div class="bg-white rounded-2xl p-6 max-w-sm w-full">
                <div class="text-center mb-6">
                    <div class="w-16 h-16 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-white text-2xl">🔑</span>
                    </div>
                    <h2 class="text-xl font-bold text-gray-800 mb-2">Enter Access Code</h2>
                    <p class="text-gray-600 text-sm">Enter your access code to unlock all modules</p>
                </div>

                <div class="space-y-4">
                    <input 
                        type="text" 
                        id="access-code-input" 
                        placeholder="Enter your access code..."
                        class="w-full p-3 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-green-500"
                        maxlength="8"
                    />
                    <div class="flex space-x-3">
                        <button onclick="closeAccessCode()" class="flex-1 p-3 bg-gray-200 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-300 transition-colors">
                            Cancel
                        </button>
                        <button onclick="verifyAccessCode()" class="flex-1 p-3 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-lg text-sm font-medium hover:from-green-600 hover:to-blue-600 transition-all">
                            Verify
                        </button>
                    </div>
                    <p class="text-xs text-gray-500 text-center">
                        Demo codes: <strong>UDAAAN1</strong> or <strong>WOMEN01</strong>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentPage = 'landing';
        let points = 0;
        let completedModules = 0;
        let currentModule = null;
        let selectedQuizAnswer = null;
        let showQuizResult = false;
        let hasAccess = false;
        let freeTrialUsed = false;
        let monthlyPoints = 0;
        let monthlyModules = 0;
        let currentLanguage = 'en';

        // Language translations
        const translations = {
            en: {
                'app-title': 'Udaan',
                'app-tagline': 'Learn to Earn - Empowering Financial Dreams in Every City',
                'header-title': 'Udaan',
                'access-title': 'Choose Your Access',
                'access-code-btn': 'Enter Access Code',
                'free-trial-btn': 'Free Trial (3 modules)',
                'start-learning-btn': 'Start Learning',
                'womens-mode-btn': 'Women\'s Mode',
                'ai-assistant-btn': 'AI Assistant',
                'nav-home': 'Home',
                'nav-modules': 'Modules',
                'nav-women': 'Women',
                'nav-rankings': 'Rankings',
                'nav-rewards': 'Rewards',
                'footer-text': 'Empowering financial literacy across India',
                // Modules page
                'modules-title': 'Learning Modules',
                'modules-subtitle': 'Master financial literacy step by step',
                'module-1-title': 'Saving for Festivals',
                'module-1-desc': 'Learn to budget for special occasions',
                'module-2-title': 'Buying a Scooter',
                'module-2-desc': 'Make smart transportation choices',
                'module-3-title': 'Loans 101',
                'module-3-desc': 'Understand borrowing basics',
                'module-4-title': 'Starting a Small Business',
                'module-4-desc': 'Turn your skills into income',
                'module-5-title': 'Digital Payments',
                'module-5-desc': 'Safe online transactions',
                'module-6-title': 'Insurance Basics',
                'module-6-desc': 'Protect your family\'s future',
                'module-completed': 'completed',
                'module-in-progress': 'in progress',
                'module-available': 'available',
                'module-locked': 'locked',
                // Women's mode
                'womens-mode-title': 'Women\'s Mode',
                'womens-mode-subtitle': 'Empowering women through financial independence',
                'womens-modules-title': 'Women\'s Financial Modules',
                'womens-module-1-title': 'Managing Household Budget',
                'womens-module-1-desc': 'Learn to manage family finances effectively',
                'womens-module-2-title': 'Starting a Small Business',
                'womens-module-2-desc': 'Turn your skills into income',
                'womens-module-3-title': 'Saving for Children\'s Education',
                'womens-module-3-desc': 'Plan for your children\'s future',
                'womens-module-4-title': 'Women\'s Health Insurance',
                'womens-module-4-desc': 'Protect yourself and family',
                'womens-module-5-title': 'Digital Banking for Women',
                'womens-module-5-desc': 'Safe online financial management',
                'womens-module-6-title': 'Microfinance & SHGs',
                'womens-module-6-desc': 'Join women\'s financial groups',
                'daily-inspiration': 'Today\'s Inspiration',
                'learning-progress': 'Your Learning Progress',
                'modules-completed': 'Modules Completed',
                'points-earned': 'Points Earned',
                'practical-tips': 'Practical Money Tips',
                'inspiring-women': 'Inspiring Women Leaders',
                'financial-goals': 'Your Financial Goals',
                'support-network': 'Women\'s Support Network',
                // Leaderboard
                'leaderboard-title': 'Leaderboard',
                'leaderboard-subtitle': 'Compete with other learners and win rewards!',
                'your-rank': 'Your Current Rank',
                'top-performers': 'Top Performers',
                'monthly-incentives': 'Monthly Incentives',
                '1st-place': '1st Place',
                '2nd-place': '2nd Place',
                '3rd-place': '3rd Place',
                'top-10': 'Top 10',
                'cash-prize': 'Cash Prize',
                'monthly-stats': 'This Month\'s Stats',
                'points-earned-monthly': 'Points Earned',
                'modules-completed-monthly': 'Modules Completed',
                // Rewards
                'rewards-title': 'Points & Rewards',
                'rewards-subtitle': 'Earn points and redeem exciting rewards',
                'total-points': 'Total Points',
                'available-rewards': 'Available Rewards',
                'redeem': 'Redeem',
                // AI Assistant
                'ai-title': 'AI Assistant',
                'ai-subtitle': 'Your personal financial advisor',
                'ai-welcome': 'Hello! I\'m your AI financial assistant. I can help you with:',
                'ai-help-1': 'Budgeting advice',
                'ai-help-2': 'Saving strategies',
                'ai-help-3': 'Investment basics',
                'ai-help-4': 'Loan information',
                'ai-help-5': 'Financial planning',
                'ai-help-6': 'And much more!',
                'ai-question': 'Ask me anything about money!',
                'ai-send': 'Send',
                'ai-tips': 'AI Tips',
                'ai-tip-1': 'Be specific with your questions',
                'ai-tip-2': 'Ask about your financial goals',
                'ai-tip-3': 'Follow up with more questions if needed',
                // Local Business & Opportunities
                'local-business-title': 'Local Business Opportunities',
                'local-business-subtitle': 'Start earning in your city',
                'business-idea-1': 'Home-based Food Business',
                'business-idea-2': 'Online Tutoring Services',
                'business-idea-3': 'Handicraft & Art Sales',
                'business-idea-4': 'Local Delivery Services',
                'business-idea-5': 'Beauty & Wellness Services',
                'business-idea-6': 'Digital Marketing for Local Shops',
                // Practical Tools
                'tools-title': 'Financial Tools',
                'tools-subtitle': 'Calculate and plan your finances',
                'emi-calculator': 'EMI Calculator',
                'savings-calculator': 'Savings Goal Calculator',
                'budget-planner': 'Monthly Budget Planner',
                'investment-calculator': 'Investment Returns Calculator',
                // Additional translations
                'cash-prize-2': 'Cash Prize',
                'cash-prize-3': 'Cash Prize',
                'cash-prize-4': 'Cash Prize'
            },
            hi: {
                'app-title': 'उड़ान',
                'app-tagline': 'सीखें कमाने के लिए - भारत की वित्तीय साक्षरता को बढ़ावा देना',
                'header-title': 'उड़ान',
                'access-title': 'अपना एक्सेस चुनें',
                'access-code-btn': 'एक्सेस कोड दर्ज करें',
                'free-trial-btn': 'मुफ्त ट्रायल (3 मॉड्यूल)',
                'start-learning-btn': 'सीखना शुरू करें',
                'womens-mode-btn': 'महिला मोड',
                'ai-assistant-btn': 'AI सहायक',
                'nav-home': 'होम',
                'nav-modules': 'मॉड्यूल',
                'nav-women': 'महिलाएं',
                'nav-rankings': 'रैंकिंग',
                'nav-rewards': 'इनाम',
                'footer-text': 'भारत में वित्तीय साक्षरता को बढ़ावा देना',
                // Modules page
                'modules-title': 'सीखने के मॉड्यूल',
                'modules-subtitle': 'वित्तीय साक्षरता में महारत हासिल करें',
                'module-1-title': 'त्योहारों के लिए बचत',
                'module-1-desc': 'विशेष अवसरों के लिए बजट बनाना सीखें',
                'module-2-title': 'स्कूटर खरीदना',
                'module-2-desc': 'स्मार्ट परिवहन विकल्प बनाएं',
                'module-3-title': 'लोन की बुनियादी बातें',
                'module-3-desc': 'उधार की मूल बातें समझें',
                'module-4-title': 'छोटा व्यवसाय शुरू करना',
                'module-4-desc': 'अपने कौशल को आय में बदलें',
                'module-5-title': 'डिजिटल भुगतान',
                'module-5-desc': 'सुरक्षित ऑनलाइन लेनदेन',
                'module-6-title': 'बीमा की मूल बातें',
                'module-6-desc': 'अपने परिवार के भविष्य की सुरक्षा',
                'module-completed': 'पूर्ण',
                'module-in-progress': 'प्रगति में',
                'module-available': 'उपलब्ध',
                'module-locked': 'बंद',
                // Women's mode
                'womens-mode-title': 'महिला मोड',
                'womens-mode-subtitle': 'वित्तीय आजादी के माध्यम से महिलाओं को सशक्त बनाना',
                'womens-modules-title': 'महिलाओं के वित्तीय मॉड्यूल',
                'womens-module-1-title': 'घरेलू बजट प्रबंधन',
                'womens-module-1-desc': 'पारिवारिक वित्त का प्रभावी प्रबंधन सीखें',
                'womens-module-2-title': 'छोटा व्यवसाय शुरू करना',
                'womens-module-2-desc': 'अपने कौशल को आय में बदलें',
                'womens-module-3-title': 'बच्चों की शिक्षा के लिए बचत',
                'womens-module-3-desc': 'अपने बच्चों के भविष्य की योजना बनाएं',
                'womens-module-4-title': 'महिलाओं का स्वास्थ्य बीमा',
                'womens-module-4-desc': 'अपनी और परिवार की सुरक्षा करें',
                'womens-module-5-title': 'महिलाओं के लिए डिजिटल बैंकिंग',
                'womens-module-5-desc': 'सुरक्षित ऑनलाइन वित्तीय प्रबंधन',
                'womens-module-6-title': 'सूक्ष्म वित्त और स्वयं सहायता समूह',
                'womens-module-6-desc': 'महिलाओं के वित्तीय समूहों में शामिल हों',
                'daily-inspiration': 'आज की प्रेरणा',
                'learning-progress': 'आपकी सीखने की प्रगति',
                'modules-completed': 'पूर्ण मॉड्यूल',
                'points-earned': 'अर्जित अंक',
                'practical-tips': 'व्यावहारिक पैसे की सलाह',
                'inspiring-women': 'प्रेरणादायक महिला नेता',
                'financial-goals': 'आपके वित्तीय लक्ष्य',
                'support-network': 'महिला सहायता नेटवर्क',
                // Leaderboard
                'leaderboard-title': 'लीडरबोर्ड',
                'leaderboard-subtitle': 'अन्य सीखने वालों के साथ प्रतिस्पर्धा करें और इनाम जीतें!',
                'your-rank': 'आपकी वर्तमान रैंक',
                'top-performers': 'शीर्ष प्रदर्शनकर्ता',
                'monthly-incentives': 'मासिक प्रोत्साहन',
                '1st-place': 'प्रथम स्थान',
                '2nd-place': 'द्वितीय स्थान',
                '3rd-place': 'तृतीय स्थान',
                'top-10': 'शीर्ष 10',
                'cash-prize': 'नकद पुरस्कार',
                'monthly-stats': 'इस महीने के आंकड़े',
                'points-earned-monthly': 'अर्जित अंक',
                'modules-completed-monthly': 'पूर्ण मॉड्यूल',
                // Rewards
                'rewards-title': 'अंक और इनाम',
                'rewards-subtitle': 'अंक अर्जित करें और रोमांचक इनाम प्राप्त करें',
                'total-points': 'कुल अंक',
                'available-rewards': 'उपलब्ध इनाम',
                'redeem': 'प्राप्त करें',
                // AI Assistant
                'ai-title': 'AI सहायक',
                'ai-subtitle': 'आपका व्यक्तिगत वित्तीय सलाहकार',
                'ai-welcome': 'नमस्ते! मैं आपका AI वित्तीय सहायक हूं। मैं आपकी इनमें मदद कर सकता हूं:',
                'ai-help-1': 'बजट सलाह',
                'ai-help-2': 'बचत रणनीतियां',
                'ai-help-3': 'निवेश की बुनियादी बातें',
                'ai-help-4': 'लोन जानकारी',
                'ai-help-5': 'वित्तीय योजना',
                'ai-help-6': 'और भी बहुत कुछ!',
                'ai-question': 'पैसे के बारे में कुछ भी पूछें!',
                'ai-send': 'भेजें',
                'ai-tips': 'AI सुझाव',
                'ai-tip-1': 'अपने सवालों में विशिष्ट रहें',
                'ai-tip-2': 'अपने वित्तीय लक्ष्यों के बारे में पूछें',
                'ai-tip-3': 'आवश्यकता हो तो और सवाल पूछें',
                // Additional translations
                'cash-prize-2': 'नकद पुरस्कार',
                'cash-prize-3': 'नकद पुरस्कार',
                'cash-prize-4': 'नकद पुरस्कार'
            }
        };

        function changeLanguage() {
            const selector = document.getElementById('language-selector');
            currentLanguage = selector.value;
            
            // Update all text elements
            Object.keys(translations[currentLanguage]).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    element.textContent = translations[currentLanguage][key];
                }
            });
            
            // Update module statuses dynamically
            const module1Status = document.getElementById('module-1-status');
            const module2Status = document.getElementById('module-2-status');
            const module3Status = document.getElementById('module-3-status');
            
            if (module1Status && module1Status.textContent.includes('completed')) {
                module1Status.textContent = translations[currentLanguage]['module-completed'];
            }
            if (module2Status && module2Status.textContent.includes('progress')) {
                module2Status.textContent = translations[currentLanguage]['module-in-progress'];
            }
            if (module3Status && module3Status.textContent.includes('locked')) {
                module3Status.textContent = translations[currentLanguage]['module-locked'];
            }
            
            // Update women's module statuses
            const womenModule1Status = document.getElementById('womens-module-1-status');
            if (womenModule1Status && womenModule1Status.textContent.includes('completed')) {
                womenModule1Status.textContent = translations[currentLanguage]['module-completed'];
            }
        }

        function getModuleContent() {
            if (currentLanguage === 'hi') {
                return {
                    1: {
                        title: 'त्योहारों के लिए बचत',
                        content: 'त्योहार हमारी संस्कृति का महत्वपूर्ण हिस्सा हैं, लेकिन ये महंगे भी हो सकते हैं। त्योहारों के लिए बचत सीखना आपको इन खास पलों का आनंद बिना वित्तीय तनाव के उठाने में मदद करता है। हर महीने त्योहारों के खर्चों के लिए एक छोटी राशि अलग रखना शुरू करें। इस तरह, जब समय आएगा, आपके पास पैसे तैयार होंगे और आपको उधार लेने या अन्य खर्चों में समझौता करने की जरूरत नहीं होगी।',
                        questions: [
                            {
                                question: 'त्योहारों के लिए बचत का सबसे अच्छा तरीका क्या है?',
                                options: ['एक साथ सारा पैसा बचाएं', 'हर महीने छोटी राशि अलग रखें', 'जरूरत पड़ने पर उधार लें', 'त्योहार छोड़ दें'],
                                correct: 1
                            },
                            {
                                question: 'त्योहारों के लिए आदर्श रूप से कितना बचाना चाहिए?',
                                options: ['₹500-1000', '₹2000-3000', '₹5000+', 'जो भी बचे'],
                                correct: 0
                            },
                            {
                                question: 'अगर आप त्योहार का खर्च नहीं उठा सकते तो क्या करना चाहिए?',
                                options: ['पैसे उधार लें', 'खर्च छोड़ दें', 'क्रेडिट कार्ड का उपयोग करें', 'अगले साल के लिए बेहतर योजना बनाएं'],
                                correct: 3
                            },
                            {
                                question: 'त्योहार के किस खर्च के लिए बजट बनाना सबसे जरूरी है?',
                                options: ['नए कपड़े', 'खाना और मिठाई', 'परिवार के लिए उपहार', 'उपरोक्त सभी'],
                                correct: 3
                            }
                        ]
                    },
                    2: {
                        title: 'स्कूटर खरीदना',
                        content: 'स्कूटर दैनिक परिवहन के लिए एक बेहतरीन निवेश हो सकता है, लेकिन सही विकल्प चुनना महत्वपूर्ण है। अपने बजट, ईंधन दक्षता, रखरखाव लागत और पुनर्विक्रय मूल्य पर विचार करें। केवल प्रारंभिक कीमत को न देखें - समय के साथ स्वामित्व की कुल लागत के बारे में सोचें। विभिन्न मॉडलों पर शोध करें, कीमतों की तुलना करें और नए और पुराने दोनों विकल्पों पर विचार करें।',
                        questions: [
                            {
                                question: 'स्कूटर खरीदते समय क्या विचार करना चाहिए?',
                                options: ['केवल प्रारंभिक कीमत', 'स्वामित्व की कुल लागत', 'केवल रंग', 'केवल ब्रांड नाम'],
                                correct: 1
                            },
                            {
                                question: 'ईंधन दक्षता के लिए सबसे महत्वपूर्ण कारक क्या है?',
                                options: ['इंजन का आकार', 'ब्रांड नाम', 'नियमित रखरखाव', 'रंग'],
                                correct: 2
                            },
                            {
                                question: 'पुराना स्कूटर कब खरीदना बेहतर है?',
                                options: ['कभी नहीं', 'जब बजट सीमित हो', 'केवल नए सवारों के लिए', 'हमेशा'],
                                correct: 1
                            },
                            {
                                question: 'पुराना स्कूटर खरीदने से पहले क्या जांचना चाहिए?',
                                options: ['केवल कीमत', 'सर्विस इतिहास और हालत', 'केवल माइलेज', 'केवल रंग'],
                                correct: 1
                            }
                        ]
                    },
                    3: {
                        title: 'लोन की बुनियादी बातें',
                        content: 'लोन तब मददगार हो सकते हैं जब आपको महत्वपूर्ण खरीदारी के लिए पैसों की जरूरत हो, लेकिन यह समझना महत्वपूर्ण है कि वे कैसे काम करते हैं। विभिन्न प्रकार के लोन की अलग-अलग ब्याज दरें और शर्तें होती हैं। हमेशा छोटे प्रिंट को पढ़ें, आप जो कुल राशि वापस करेंगे उसे समझें, और सुनिश्चित करें कि आप मासिक भुगतान वहन कर सकते हैं। अच्छा क्रेडिट इतिहास आपको बेहतर लोन शर्तें प्राप्त करने में मदद कर सकता है।',
                        questions: [
                            {
                                question: 'लोन लेते समय सबसे महत्वपूर्ण क्या है?',
                                options: ['जल्दी पैसा मिलना', 'शर्तों और ब्याज को समझना', 'सबसे बड़ी राशि चुनना', 'दस्तावेज न पढ़ना'],
                                correct: 1
                            },
                            {
                                question: 'अच्छा ऋण-से-आय अनुपात क्या है?',
                                options: ['50% या कम', '70% या कम', '90% या कम', '100%'],
                                correct: 0
                            },
                            {
                                question: 'अगर आप लोन भुगतान चूक जाते हैं तो क्या होता है?',
                                options: ['कुछ नहीं', 'देर शुल्क और क्रेडिट क्षति', 'मुफ्त पैसा', 'कम ब्याज दर'],
                                correct: 1
                            },
                            {
                                question: 'अपना क्रेडिट स्कोर बेहतर बनाने का सबसे अच्छा तरीका क्या है?',
                                options: ['अधिक लोन लें', 'बिल समय पर भरें', 'सभी लोन से बचें', 'केवल नकद का उपयोग करें'],
                                correct: 1
                            }
                        ]
                    },
                    4: {
                        title: 'छोटा व्यवसाय शुरू करना',
                        content: 'टियर 2/3 शहरों में कम निवेश के साथ छोटा व्यवसाय शुरू करना बहुत लाभदायक हो सकता है। अपने कौशल, स्थानीय बाजार की जरूरतों और प्रतिस्पर्धा पर विचार करें। ₹5000-10000 के निवेश के साथ छोटा शुरू करें। लोकप्रिय विकल्पों में घर-आधारित खाद्य व्यवसाय, ऑनलाइन ट्यूशन, हस्तशिल्प, या स्थानीय डिलीवरी सेवाएं शामिल हैं। वफादार ग्राहक आधार बनाने के लिए गुणवत्ता और ग्राहक सेवा पर ध्यान दें।',
                        questions: [
                            {
                                question: 'छोटा व्यवसाय शुरू करने का सबसे अच्छा तरीका क्या है?',
                                options: ['₹1 लाख उधार लें', '₹5000-10000 के साथ छोटा शुरू करें', 'पूर्ण स्थितियों की प्रतीक्षा करें', 'किसी और को बिल्कुल कॉपी करें'],
                                correct: 1
                            },
                            {
                                question: 'पहले किस पर ध्यान देना चाहिए?',
                                options: ['अधिकतम लाभ कमाना', 'गुणवत्ता और ग्राहक सेवा', 'तेजी से विस्तार करना', 'कई लोगों को काम पर रखना'],
                                correct: 1
                            },
                            {
                                question: 'अपने उत्पादों की कीमत कैसे तय करनी चाहिए?',
                                options: ['जितना संभव हो उतना अधिक', 'लागत + छोटा लाभ के आधार पर', 'प्रतिस्पर्धियों के समान', 'ग्राहक जो भी दें'],
                                correct: 1
                            },
                            {
                                question: 'व्यवसाय सफलता के लिए सबसे महत्वपूर्ण क्या है?',
                                options: ['बहुत पैसा होना', 'ग्राहक की जरूरतों को समझना', 'सबसे अच्छा स्थान होना', 'सबसे सस्ता होना'],
                                correct: 1
                            }
                        ]
                    },
                    5: {
                        title: 'डिजिटल भुगतान',
                        content: 'डिजिटल भुगतान टियर 2/3 शहरों में आवश्यक होते जा रहे हैं। UPI, मोबाइल वॉलेट और ऑनलाइन बैंकिंग का सुरक्षित रूप से उपयोग करना सीखें। हमेशा प्राप्तकर्ता का विवरण सत्यापित करें, सुरक्षित नेटवर्क का उपयोग करें, और अपना PIN या OTP कभी साझा न करें। डिजिटल भुगतान आपको खर्चों को ट्रैक करने, नकदी ले जाने से बचने और ऑनलाइन बेहतर डील्स तक पहुंचने में मदद करते हैं।',
                        questions: [
                            {
                                question: 'डिजिटल भुगतान करने का सबसे सुरक्षित तरीका क्या है?',
                                options: ['परिवार के साथ PIN साझा करें', 'सार्वजनिक WiFi का उपयोग करें', 'प्राप्तकर्ता का विवरण सत्यापित करें', 'सभी पासवर्ड फोन में सेव करें'],
                                correct: 2
                            },
                            {
                                question: 'आपको कभी क्या साझा नहीं करना चाहिए?',
                                options: ['आपका नाम', 'आपका PIN और OTP', 'आपका पता', 'आपका फोन नंबर'],
                                correct: 1
                            },
                            {
                                question: 'डिजिटल भुगतान के क्या लाभ हैं?',
                                options: ['केवल सुविधा', 'खर्चों को ट्रैक करना और नकदी से बचना', 'केवल ऑनलाइन शॉपिंग के लिए', 'केवल बड़ी राशि के लिए'],
                                correct: 1
                            },
                            {
                                question: 'अगर भुगतान असफल हो जाए तो क्या करना चाहिए?',
                                options: ['तुरंत फिर से कोशिश करें', 'बैलेंस जांचें और फिर से कोशिश करें', 'दूसरों के साथ OTP साझा करें', 'अलग ऐप का उपयोग करें'],
                                correct: 1
                            }
                        ]
                    },
                    6: {
                        title: 'बीमा की मूल बातें',
                        content: 'बीमा आपके परिवार को वित्तीय आपात स्थितियों से बचाता है। टियर 2/3 शहरों में, स्वास्थ्य बीमा और जीवन बीमा सबसे महत्वपूर्ण हैं। ₹500-1000 प्रति माह के साथ बुनियादी स्वास्थ्य बीमा से शुरुआत करें। जीवन बीमा आपकी वार्षिक आय का 10-15 गुना होना चाहिए। खरीदने से पहले हमेशा पॉलिसी की शर्तों को पढ़ें, अपवादों को समझें, और विभिन्न विकल्पों की तुलना करें।',
                        questions: [
                            {
                                question: 'परिवारों के लिए सबसे महत्वपूर्ण बीमा क्या है?',
                                options: ['कार बीमा', 'स्वास्थ्य और जीवन बीमा', 'यात्रा बीमा', 'पालतू जानवर का बीमा'],
                                correct: 1
                            },
                            {
                                question: 'आपके पास कितना जीवन बीमा कवरेज होना चाहिए?',
                                options: ['1 साल की आय', 'वार्षिक आय का 10-15 गुना', 'स्वास्थ्य बीमा के समान', 'जो भी सबसे सस्ता हो'],
                                correct: 1
                            },
                            {
                                question: 'बीमा खरीदने से पहले क्या करना चाहिए?',
                                options: ['सबसे सस्ता विकल्प खरीदें', 'पॉलिसी की शर्तों को पढ़ें और तुलना करें', 'पहले एजेंट से खरीदें', 'केवल सरकार से खरीदें'],
                                correct: 1
                            },
                            {
                                question: 'बीमा का दावा कब करना चाहिए?',
                                options: ['छोटे खर्चों के लिए', 'केवल कवर की गई आपात स्थितियों के लिए', 'किसी भी चिकित्सा खर्च के लिए', 'कभी दावा न करें'],
                                correct: 1
                            }
                        ]
                    }
                };
            } else {
                return {
                1: {
                    title: 'Saving for Festivals',
                    content: 'Festivals are an important part of our culture, but they can also be expensive. Learning to save for festivals helps you enjoy these special moments without financial stress. Start by setting aside a small amount each month specifically for festival expenses. This way, when the time comes, you\'ll have the money ready and won\'t need to borrow or compromise on other expenses.',
                    questions: [
                        {
                            question: 'What is the best way to save for festivals?',
                            options: ['Save all money at once', 'Set aside small amounts monthly', 'Borrow money when needed', 'Skip festivals'],
                            correct: 1
                        },
                        {
                            question: 'How much should you ideally save monthly for festivals?',
                            options: ['₹500-1000', '₹2000-3000', '₹5000+', 'Whatever is left over'],
                            correct: 0
                        },
                        {
                            question: 'What should you do if you can\'t afford a festival expense?',
                            options: ['Borrow money', 'Skip the expense', 'Use credit card', 'Plan better for next year'],
                            correct: 3
                        },
                        {
                            question: 'Which festival expense is most important to budget for?',
                            options: ['New clothes', 'Food and sweets', 'Gifts for family', 'All of the above'],
                            correct: 3
                        }
                    ]
                },
                2: {
                    title: 'Buying a Scooter',
                    content: 'A scooter can be a great investment for daily transportation, but it\'s important to make the right choice. Consider your budget, fuel efficiency, maintenance costs, and resale value. Don\'t just look at the initial price - think about the total cost of ownership over time. Research different models, compare prices, and consider both new and used options.',
                    questions: [
                        {
                            question: 'What should you consider when buying a scooter?',
                            options: ['Only the initial price', 'Total cost of ownership', 'Just the color', 'Only brand name'],
                            correct: 1
                        },
                        {
                            question: 'What is the most important factor for fuel efficiency?',
                            options: ['Engine size', 'Brand name', 'Regular maintenance', 'Color'],
                            correct: 2
                        },
                        {
                            question: 'When is it better to buy a used scooter?',
                            options: ['Never', 'When budget is limited', 'Only for new riders', 'Always'],
                            correct: 1
                        },
                        {
                            question: 'What should you check before buying a used scooter?',
                            options: ['Only the price', 'Service history and condition', 'Just the mileage', 'Only the color'],
                            correct: 1
                        }
                    ]
                },
                3: {
                    title: 'Loans 101',
                    content: 'Loans can be helpful when you need money for important purchases, but it\'s crucial to understand how they work. Different types of loans have different interest rates and terms. Always read the fine print, understand the total amount you\'ll pay back, and make sure you can afford the monthly payments. Good credit history can help you get better loan terms.',
                    questions: [
                        {
                            question: 'What is most important when taking a loan?',
                            options: ['Getting the money quickly', 'Understanding the terms and interest', 'Choosing the biggest amount', 'Not reading the documents'],
                            correct: 1
                        },
                        {
                            question: 'What is a good debt-to-income ratio?',
                            options: ['50% or less', '70% or less', '90% or less', '100%'],
                            correct: 0
                        },
                        {
                            question: 'What happens if you miss loan payments?',
                            options: ['Nothing', 'Late fees and credit damage', 'Free money', 'Lower interest rate'],
                            correct: 1
                        },
                        {
                            question: 'What is the best way to improve your credit score?',
                            options: ['Take more loans', 'Pay bills on time', 'Avoid all loans', 'Only use cash'],
                            correct: 1
                        }
                    ]
                },
                4: {
                    title: 'Starting a Small Business',
                    content: 'Starting a small business in tier 2/3 cities can be very profitable with low investment. Consider your skills, local market needs, and competition. Start small with ₹5000-10000 investment. Popular options include home-based food business, online tutoring, handicrafts, or local delivery services. Focus on quality and customer service to build a loyal customer base.',
                    questions: [
                        {
                            question: 'What is the best way to start a small business?',
                            options: ['Borrow ₹1 lakh', 'Start small with ₹5000-10000', 'Wait for perfect conditions', 'Copy someone else exactly'],
                            correct: 1
                        },
                        {
                            question: 'What should you focus on first?',
                            options: ['Making maximum profit', 'Quality and customer service', 'Expanding quickly', 'Hiring many people'],
                            correct: 1
                        },
                        {
                            question: 'How should you price your products?',
                            options: ['As high as possible', 'Based on costs + small profit', 'Same as competitors', 'Whatever customers will pay'],
                            correct: 1
                        },
                        {
                            question: 'What is most important for business success?',
                            options: ['Having lots of money', 'Understanding customer needs', 'Having the best location', 'Being the cheapest'],
                            correct: 1
                        }
                    ]
                },
                5: {
                    title: 'Digital Payments',
                    content: 'Digital payments are becoming essential in tier 2/3 cities. Learn to use UPI, mobile wallets, and online banking safely. Always verify the recipient details, use secure networks, and never share your PIN or OTP. Digital payments help you track expenses, avoid carrying cash, and access better deals online.',
                    questions: [
                        {
                            question: 'What is the safest way to make digital payments?',
                            options: ['Share PIN with family', 'Use public WiFi', 'Verify recipient details', 'Save all passwords in phone'],
                            correct: 2
                        },
                        {
                            question: 'What should you never share?',
                            options: ['Your name', 'Your PIN and OTP', 'Your address', 'Your phone number'],
                            correct: 1
                        },
                        {
                            question: 'What are the benefits of digital payments?',
                            options: ['Only convenience', 'Track expenses and avoid cash', 'Only for online shopping', 'Only for big amounts'],
                            correct: 1
                        },
                        {
                            question: 'What should you do if payment fails?',
                            options: ['Try again immediately', 'Check balance and try again', 'Share OTP with others', 'Use different app'],
                            correct: 1
                        }
                    ]
                },
                6: {
                    title: 'Insurance Basics',
                    content: 'Insurance protects your family from financial emergencies. In tier 2/3 cities, health insurance and life insurance are most important. Start with basic health insurance for ₹500-1000 per month. Life insurance should cover 10-15 times your annual income. Always read policy terms, understand exclusions, and compare different options before buying.',
                    questions: [
                        {
                            question: 'What is the most important insurance for families?',
                            options: ['Car insurance', 'Health and life insurance', 'Travel insurance', 'Pet insurance'],
                            correct: 1
                        },
                        {
                            question: 'How much life insurance coverage should you have?',
                            options: ['1 year income', '10-15 times annual income', 'Same as health insurance', 'Whatever is cheapest'],
                            correct: 1
                        },
                        {
                            question: 'What should you do before buying insurance?',
                            options: ['Buy the cheapest option', 'Read policy terms and compare', 'Buy from first agent you meet', 'Only buy from government'],
                            correct: 1
                        },
                        {
                            question: 'When should you claim insurance?',
                            options: ['For small expenses', 'Only for covered emergencies', 'For any medical expense', 'Never claim'],
                            correct: 1
                        }
                    ]
                }
            };
            }
        }

        function showPage(pageId, event = null) {
            // Hide all pages
            document.querySelectorAll('[id="landing"], [id="modules"], [id="girls-mode"], [id="leaderboard"], [id="rewards"], [id="ai-assistant"], [id="local-business"]').forEach(page => {
                page.classList.add('hidden');
            });
            
            // Show selected page
            document.getElementById(pageId).classList.remove('hidden');
            
            // Update navigation
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active', 'text-blue-600');
                item.classList.add('text-gray-500');
            });
            
            // Only update navigation if event is provided and it's from a nav item
            if (event && event.target) {
                const navItem = event.target.closest('.nav-item');
                if (navItem) {
                    navItem.classList.add('active', 'text-blue-600');
                    navItem.classList.remove('text-gray-500');
                }
            }
            
            currentPage = pageId;
            
            // Update Princess Mode if it's the current page
            if (pageId === 'girls-mode') {
                updatePrincessMode();
            }
            
            // Update Leaderboard if it's the current page
            if (pageId === 'leaderboard') {
                updateLeaderboard();
            }
        }

        // Access Code Functions
        function showAccessCode() {
            document.getElementById('access-code-modal').classList.remove('hidden');
        }

        function closeAccessCode() {
            document.getElementById('access-code-modal').classList.add('hidden');
            document.getElementById('access-code-input').value = '';
        }

        function verifyAccessCode() {
            const code = document.getElementById('access-code-input').value.toUpperCase();
            const validCodes = ['UDAAAN1', 'WOMEN01', 'ACCESS1'];
            
            if (validCodes.includes(code)) {
                hasAccess = true;
                closeAccessCode();
                showSuccessMessage('Access granted! All modules are now unlocked! 🎉');
            } else {
                showErrorMessage('Invalid access code. Please try again.');
            }
        }

        function startFreeTrial() {
            if (freeTrialUsed) {
                showErrorMessage('Free trial already used. Please enter an access code.');
                return;
            }
            freeTrialUsed = true;
            hasAccess = true;
            showSuccessMessage('Free trial started! You can access 3 modules. 🆓');
        }

        // Module Functions
        function openModule(moduleId) {
            if (!hasAccess && !freeTrialUsed) {
                showErrorMessage('Please choose an access method first.');
                return;
            }
            
            if (freeTrialUsed && moduleId > 3) {
                showErrorMessage('Free trial limited to 3 modules. Enter access code for more.');
                return;
            }

            // Show loading state
            const loadingDiv = document.createElement('div');
            loadingDiv.className = 'fixed inset-0 bg-black/20 backdrop-blur-sm z-50 flex items-center justify-center';
            loadingDiv.innerHTML = `
                <div class="bg-white rounded-2xl p-6 shadow-xl">
                    <div class="flex items-center space-x-3">
                        <div class="w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full loading"></div>
                        <p class="text-gray-800 font-medium">Loading module...</p>
                    </div>
                </div>
            `;
            document.body.appendChild(loadingDiv);

            // Simulate loading time and then show module
            setTimeout(() => {
                loadingDiv.remove();
                const modules = getModuleContent();
            currentModule = modules[moduleId];
            if (currentModule) {
                showModuleModal(currentModule);
            }
            }, 800);
        }

        function openWomenModule(moduleId) {
            if (!hasAccess && !freeTrialUsed) {
                showErrorMessage('Please choose an access method first.');
                return;
            }

            const womenModules = {
                1: {
                    title: 'Managing Household Budget',
                    content: 'Managing a household budget is crucial for financial stability. Start by tracking all income and expenses for one month. Categorize expenses into fixed (rent, utilities) and variable (food, entertainment). Allocate 50% for needs, 30% for wants, and 20% for savings. Use simple tools like a notebook or mobile app to track daily expenses.',
                    questions: [
                        {
                            question: 'What percentage should you allocate for savings?',
                            options: ['10%', '20%', '30%', '40%'],
                            correct: 1
                        },
                        {
                            question: 'What is the 50-30-20 rule?',
                            options: ['50% needs, 30% wants, 20% savings', '50% savings, 30% needs, 20% wants', '50% wants, 30% savings, 20% needs', '50% income, 30% expenses, 20% debt'],
                            correct: 0
                        },
                        {
                            question: 'What should you track first when budgeting?',
                            options: ['Only income', 'Only expenses', 'Both income and expenses', 'Only savings'],
                            correct: 2
                        },
                        {
                            question: 'What is the best way to track daily expenses?',
                            options: ['Remember everything', 'Use a notebook or app', 'Only track big expenses', 'Ask family members'],
                            correct: 1
                        }
                    ]
                },
                2: {
                    title: 'Starting a Small Business',
                    content: 'Many women successfully start small businesses from home. Identify your skills - cooking, crafting, tutoring, or services. Start small with minimal investment. Research your market, set competitive prices, and use social media for marketing. Keep separate accounts for business and personal finances. Start with ₹5,000-10,000 and grow gradually.',
                    questions: [
                        {
                            question: 'What is the first step in starting a small business?',
                            options: ['Get a loan', 'Identify your skills', 'Hire employees', 'Buy equipment'],
                            correct: 1
                        },
                        {
                            question: 'How much should you invest initially?',
                            options: ['₹50,000+', '₹5,000-10,000', '₹1,00,000+', 'Whatever you have'],
                            correct: 1
                        },
                        {
                            question: 'What is important for business success?',
                            options: ['Only good products', 'Only marketing', 'Good products and marketing', 'Only low prices'],
                            correct: 2
                        },
                        {
                            question: 'Should you keep business and personal money separate?',
                            options: ['No, it\'s the same', 'Yes, always', 'Only for big businesses', 'Only if profitable'],
                            correct: 1
                        }
                    ]
                },
                3: {
                    title: 'Saving for Children\'s Education',
                    content: 'Education is one of the best investments for your children\'s future. Start saving early - even ₹500-1000 per month can grow significantly over 15-20 years. Consider education-specific savings plans, PPF, or mutual funds. Research education costs and inflation. The earlier you start, the less you need to save monthly due to compound interest.',
                    questions: [
                        {
                            question: 'Why is it important to start saving for education early?',
                            options: ['To avoid loans', 'Compound interest helps', 'Children will be grateful', 'It\'s easier to save small amounts'],
                            correct: 1
                        },
                        {
                            question: 'How much should you save monthly for education?',
                            options: ['₹500-1000', '₹5000+', '₹100-200', 'Whatever is left'],
                            correct: 0
                        },
                        {
                            question: 'What is compound interest?',
                            options: ['Interest on principal only', 'Interest on principal + previous interest', 'Fixed interest rate', 'High interest rate'],
                            correct: 1
                        },
                        {
                            question: 'Which is better for education savings?',
                            options: ['Only bank savings', 'Only PPF', 'Mix of different options', 'Only mutual funds'],
                            correct: 2
                        }
                    ]
                }
            };

            currentModule = womenModules[moduleId];
            if (currentModule) {
                showModuleModal(currentModule);
            }
        }

        function showModuleModal(module) {
            document.getElementById('module-title').textContent = module.title;
            document.getElementById('module-content').textContent = module.content;
            
            // Initialize quiz state
            currentModule.currentQuestion = 0;
            currentModule.score = 0;
            currentModule.totalQuestions = module.questions.length;
            
            showQuestion(module.questions[0]);
            
            document.getElementById('quiz-result').classList.add('hidden');
            document.getElementById('complete-btn').disabled = true;
            selectedQuizAnswer = null;
            showQuizResult = false;
            
            document.getElementById('module-modal').classList.remove('hidden');
        }

        function showQuestion(question) {
            document.getElementById('quiz-question').textContent = question.question;
            
            const optionsContainer = document.getElementById('quiz-options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'w-full text-left p-3 rounded-xl border-2 transition-all text-sm border-gray-200 hover:border-gray-300 text-gray-800 bg-white';
                button.textContent = option;
                button.onclick = () => selectQuizAnswer(index, button);
                optionsContainer.appendChild(button);
            });
            
            // Update progress indicator with visual progress bar
            const progressText = `Question ${currentModule.currentQuestion + 1} of ${currentModule.totalQuestions}`;
            const progressPercentage = ((currentModule.currentQuestion + 1) / currentModule.totalQuestions) * 100;
            
            // Add progress bar if it doesn't exist
            let progressBar = document.getElementById('quiz-progress-bar');
            if (!progressBar) {
                progressBar = document.createElement('div');
                progressBar.id = 'quiz-progress-bar';
                progressBar.className = 'w-full bg-gray-200 rounded-full h-2 mb-4';
                progressBar.innerHTML = '<div class="bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-500" style="width: 0%"></div>';
                document.getElementById('quiz-question').parentNode.insertBefore(progressBar, document.getElementById('quiz-question'));
            }
            
            // Update progress bar
            const progressFill = progressBar.querySelector('div');
            progressFill.style.width = `${progressPercentage}%`;
            
            document.getElementById('quiz-question').textContent = `${progressText}: ${question.question}`;
        }

        function selectQuizAnswer(index, button) {
            // Reset all buttons
            document.querySelectorAll('#quiz-options button').forEach(btn => {
                btn.className = 'w-full text-left p-3 rounded-xl border-2 transition-all text-sm border-gray-200 hover:border-gray-300 text-gray-800 bg-white';
            });
            
            // Highlight selected button
            button.className = 'w-full text-left p-3 rounded-xl border-2 transition-all text-sm border-blue-500 bg-blue-50 text-blue-800';
            
            selectedQuizAnswer = index;
            document.getElementById('complete-btn').disabled = false;
        }

        function completeModule() {
            if (selectedQuizAnswer === null) return;
            
            const currentQuestion = currentModule.questions[currentModule.currentQuestion];
            const isCorrect = selectedQuizAnswer === currentQuestion.correct;
            const resultDiv = document.getElementById('quiz-result');
            
            if (isCorrect) {
                currentModule.score += 1;
                resultDiv.className = 'p-4 rounded-xl bg-green-50 border border-green-200 success';
                resultDiv.innerHTML = '<p class="text-green-800 font-medium text-sm">🎉 Correct! Great job!</p>';
                showSuccessMessage('Correct answer! 🎉');
            } else {
                resultDiv.className = 'p-4 rounded-xl bg-red-50 border border-red-200 error';
                resultDiv.innerHTML = `<p class="text-red-800 font-medium text-sm">❌ Incorrect. The correct answer is: ${currentQuestion.options[currentQuestion.correct]}</p>`;
                showErrorMessage('Incorrect answer. Keep learning! 💪');
            }
            
            resultDiv.classList.remove('hidden');
            
            // Move to next question or complete module
            currentModule.currentQuestion += 1;
            
            if (currentModule.currentQuestion < currentModule.totalQuestions) {
                // Show next question after a delay
                setTimeout(() => {
                    resultDiv.classList.add('hidden');
                    showQuestion(currentModule.questions[currentModule.currentQuestion]);
                    document.getElementById('complete-btn').disabled = true;
                    selectedQuizAnswer = null;
                }, 2000);
            } else {
                // Module completed
                const percentage = Math.round((currentModule.score / currentModule.totalQuestions) * 100);
                const pointsEarned = Math.round((currentModule.score / currentModule.totalQuestions) * 10);
                
                // Save progress
                markModuleCompleted(currentModule.id || 1);
                
                setTimeout(() => {
                    resultDiv.className = 'p-4 rounded-xl bg-blue-50 border border-blue-200';
                    resultDiv.innerHTML = `
                        <div class="text-center">
                            <p class="text-blue-800 font-bold text-lg mb-2">Module Completed! 🎉</p>
                            <p class="text-blue-700 text-sm mb-2">Score: ${currentModule.score}/${currentModule.totalQuestions} (${percentage}%)</p>
                            <p class="text-blue-600 text-sm">You earned ${pointsEarned} points!</p>
                        </div>
                    `;
                    
                    points += pointsEarned;
                    completedModules += 1;
                    
                    // Update all displays
                    document.getElementById('points').textContent = points + ' Points';
                    document.getElementById('rewards-points').textContent = points;
                    updatePrincessMode();
                    updateLeaderboard();
                    showPrincessSuccess();
                    
                    document.getElementById('complete-btn').textContent = 'Module Completed';
                    document.getElementById('complete-btn').disabled = true;
                }, 2000);
            }
        }

        function closeModule() {
            document.getElementById('module-modal').classList.add('hidden');
            currentModule = null;
            selectedQuizAnswer = null;
            showQuizResult = false;
        }

        // Utility Functions
        function showSuccessMessage(message) {
            const alertDiv = document.createElement('div');
            alertDiv.className = 'fixed top-4 left-4 right-4 z-50 bg-gradient-to-r from-green-400 to-blue-400 text-white rounded-2xl p-4 shadow-xl success';
            alertDiv.innerHTML = `
                <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 bg-white/20 rounded-full flex items-center justify-center">
                        <span class="text-lg">✅</span>
                    </div>
                    <p class="font-medium text-sm">${message}</p>
                </div>
            `;
            document.body.appendChild(alertDiv);
            setTimeout(() => alertDiv.remove(), 3000);
        }

        function showErrorMessage(message) {
            const alertDiv = document.createElement('div');
            alertDiv.className = 'fixed top-4 left-4 right-4 z-50 bg-gradient-to-r from-red-400 to-orange-400 text-white rounded-2xl p-4 shadow-xl error';
            alertDiv.innerHTML = `
                <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 bg-white/20 rounded-full flex items-center justify-center">
                        <span class="text-lg">❌</span>
                    </div>
                    <p class="font-medium text-sm">${message}</p>
                </div>
            `;
            document.body.appendChild(alertDiv);
            setTimeout(() => alertDiv.remove(), 3000);
        }
        
        // Enhanced error handling
        function handleError(error, context = '') {
            console.error(`Error in ${context}:`, error);
            let userMessage = 'Something went wrong. Please try again.';
            
            if (error.name === 'NetworkError' || !navigator.onLine) {
                userMessage = 'No internet connection. Please check your network.';
            } else if (error.name === 'QuotaExceededError') {
                userMessage = 'Storage limit reached. Please clear some data.';
            }
            
            showErrorMessage(userMessage);
        }
        
        // Add global error handler
        window.addEventListener('error', (event) => {
            handleError(event.error, 'Global');
        });
        
        window.addEventListener('unhandledrejection', (event) => {
            handleError(event.reason, 'Promise');
        });
        
        // Local storage functions for saving progress
        function saveProgress() {
            try {
                const progress = {
                    hasAccess,
                    freeTrialUsed,
                    completedModules,
                    currentPoints: 0, // You can implement points system
                    lastAccessed: new Date().toISOString()
                };
                localStorage.setItem('udaan-progress', JSON.stringify(progress));
            } catch (error) {
                console.warn('Could not save progress:', error);
            }
        }
        
        function loadProgress() {
            try {
                const saved = localStorage.getItem('udaan-progress');
                if (saved) {
                    const progress = JSON.parse(saved);
                    hasAccess = progress.hasAccess || false;
                    freeTrialUsed = progress.freeTrialUsed || false;
                    completedModules = progress.completedModules || 0;
                    return progress;
                }
            } catch (error) {
                console.warn('Could not load progress:', error);
            }
            return null;
        }
        
        // Load progress on page load
        window.addEventListener('load', () => {
            const progress = loadProgress();
            if (progress && progress.lastAccessed) {
                const lastAccess = new Date(progress.lastAccessed);
                const now = new Date();
                const daysSinceLastAccess = Math.floor((now - lastAccess) / (1000 * 60 * 60 * 24));
                
                if (daysSinceLastAccess > 0) {
                    setTimeout(() => {
                        showSuccessMessage(`Welcome back! You last used the app ${daysSinceLastAccess} day${daysSinceLastAccess > 1 ? 's' : ''} ago. 🎉`);
                    }, 1000);
                }
            }
        });
        
        // Save progress when user completes actions
        function markModuleCompleted(moduleId) {
            if (!completedModules.includes(moduleId)) {
                completedModules.push(moduleId);
                saveProgress();
                showSuccessMessage(`Module ${moduleId} completed! 🎉`);
            }
        }

        function updateLeaderboard() {
            // Sample leaderboard data (in a real app, this would come from a server)
            const leaderboardData = [
                { name: 'Priya Sharma', points: 85, rank: 1, avatar: '👩‍💼' },
                { name: 'Anita Singh', points: 72, rank: 2, avatar: '👩‍🎓' },
                { name: 'Meera Patel', points: 68, rank: 3, avatar: '👩‍⚕️' },
                { name: 'Sunita Kumar', points: 55, rank: 4, avatar: '👩‍🍳' },
                { name: 'Rekha Gupta', points: 48, rank: 5, avatar: '👩‍🏫' },
                { name: 'You', points: points, rank: 6, avatar: '👤' }
            ];
            
            // Sort by points (descending)
            leaderboardData.sort((a, b) => b.points - a.points);
            
            // Update ranks
            leaderboardData.forEach((user, index) => {
                user.rank = index + 1;
            });
            
            // Find user's rank
            const userRank = leaderboardData.find(user => user.name === 'You')?.rank || leaderboardData.length;
            
            // Update user's rank display
            document.getElementById('user-rank').textContent = `#${userRank}`;
            document.getElementById('user-score').textContent = `${points} Points`;
            
            // Update monthly stats
            monthlyPoints = points;
            monthlyModules = completedModules;
            document.getElementById('monthly-points').textContent = monthlyPoints;
            document.getElementById('monthly-modules').textContent = monthlyModules;
            
            // Populate leaderboard list
            const leaderboardList = document.getElementById('leaderboard-list');
            leaderboardList.innerHTML = '';
            
            leaderboardData.slice(0, 5).forEach((user, index) => {
                const entry = document.createElement('div');
                entry.className = `flex items-center justify-between p-3 rounded-xl ${
                    user.name === 'You' 
                        ? 'bg-gradient-to-r from-yellow-100 to-orange-100 border border-yellow-300' 
                        : 'bg-white border border-gray-200'
                }`;
                
                const medal = index === 0 ? '🥇' : index === 1 ? '🥈' : index === 2 ? '🥉' : '🏅';
                
                entry.innerHTML = `
                    <div class="flex items-center space-x-3">
                        <span class="text-2xl">${user.avatar}</span>
                        <div>
                            <p class="font-semibold text-gray-800 text-sm">${user.name}</p>
                            <p class="text-gray-600 text-xs">${user.points} Points</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <span class="text-lg">${medal}</span>
                        <p class="text-gray-600 text-xs">#${user.rank}</p>
                    </div>
                `;
                
                leaderboardList.appendChild(entry);
            });
        }

        function updatePrincessMode() {
            try {
                // Update women's progress (only if elements exist)
                const womenModulesEl = document.getElementById('women-modules');
                const womenPointsEl = document.getElementById('women-points');
                
                if (womenModulesEl) {
                    womenModulesEl.textContent = completedModules + '/3';
                }
                if (womenPointsEl) {
                    womenPointsEl.textContent = points;
                }
                
                // Update progress bar (only if element exists)
            const progressPercentage = (completedModules / 3) * 100;
                const womenProgressEl = document.getElementById('women-progress');
                if (womenProgressEl) {
                    womenProgressEl.style.width = progressPercentage + '%';
                }
            
            // Update rewards based on progress
            updateWomenRewards();
            } catch (error) {
                console.warn('Error updating princess mode:', error);
                // Don't show error to user as this is not critical
            }
        }

        function updateWomenRewards() {
            const rewards = document.querySelectorAll('#girls-mode .card:nth-last-child(2) .space-y-2 > div');
            
            rewards.forEach((reward, index) => {
                if (index < completedModules) {
                    reward.classList.remove('bg-gradient-to-r', 'from-green-50', 'to-blue-50');
                    reward.classList.add('bg-gradient-to-r', 'from-green-100', 'to-emerald-100');
                    reward.querySelector('span:last-child').textContent = '✅ Earned!';
                    reward.querySelector('span:last-child').classList.add('text-green-600');
                }
            });
        }

        function showPrincessSuccess() {
            const messages = [
                '💪 Excellent! You completed a module and earned 10 points! You\'re building financial independence!',
                '🌟 Great progress! You\'re one step closer to your financial goals! Keep learning!',
                '💎 Wonderful! Your financial knowledge is growing! You\'re empowering yourself!',
                '🏆 Fantastic! Every module makes you more financially confident!'
            ];
            
            const randomMessage = messages[Math.floor(Math.random() * messages.length)];
            
            // Create a professional achievement alert
            const alertDiv = document.createElement('div');
            alertDiv.className = 'fixed top-4 left-4 right-4 z-50 bg-gradient-to-r from-green-400 to-blue-400 text-white rounded-2xl p-4 shadow-xl';
            alertDiv.innerHTML = `
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center">
                        <span class="text-2xl">💪</span>
                    </div>
                    <div>
                        <p class="font-bold text-sm">Achievement Unlocked!</p>
                        <p class="text-xs opacity-90">${randomMessage}</p>
                    </div>
                </div>
            `;
            
            document.body.appendChild(alertDiv);
            
            // Remove after 4 seconds
            setTimeout(() => {
                alertDiv.remove();
            }, 4000);
        }

        // Add some sparkle animations
        function addSparkles() {
            const sparkle = document.createElement('div');
            sparkle.innerHTML = '✨';
            sparkle.className = 'fixed text-2xl pointer-events-none animate-ping';
            sparkle.style.left = Math.random() * window.innerWidth + 'px';
            sparkle.style.top = Math.random() * window.innerHeight + 'px';
            sparkle.style.zIndex = '1000';
            
            document.body.appendChild(sparkle);
            
            setTimeout(() => {
                sparkle.remove();
            }, 1000);
        }

        // AI Assistant Functions
        function askAI(question) {
            addUserMessage(question);
            setTimeout(() => {
                const response = getAIResponse(question);
                addAIMessage(response);
            }, 1000);
        }

        function sendMessage() {
            const input = document.getElementById('user-input');
            const message = input.value.trim();
            if (message) {
                addUserMessage(message);
                input.value = '';
                setTimeout(() => {
                    const response = getAIResponse(message);
                    addAIMessage(response);
                }, 1000);
            }
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function addUserMessage(message) {
            const chatMessages = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'flex items-start space-x-2 justify-end';
            messageDiv.innerHTML = `
                <div class="bg-indigo-500 text-white rounded-lg p-3 max-w-xs">
                    <p class="text-xs">${message}</p>
                </div>
                <div class="w-8 h-8 bg-gradient-to-r from-indigo-400 to-purple-400 rounded-full flex items-center justify-center flex-shrink-0">
                    <span class="text-white text-sm">👤</span>
                </div>
            `;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function addAIMessage(message) {
            const chatMessages = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'flex items-start space-x-2';
            messageDiv.innerHTML = `
                <div class="w-8 h-8 bg-gradient-to-r from-indigo-400 to-purple-400 rounded-full flex items-center justify-center flex-shrink-0">
                    <span class="text-white text-sm">🤖</span>
                </div>
                <div class="bg-gray-100 rounded-lg p-3 max-w-xs">
                    <p class="text-gray-700 text-xs">${message}</p>
                </div>
            `;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function getAIResponse(question) {
            const responses = {
                'saving': 'To start saving money, follow the 50-30-20 rule: 50% for needs, 30% for wants, and 20% for savings. Start small with ₹100-500 per month and gradually increase. Open a separate savings account and set up automatic transfers.',
                'emergency': 'An emergency fund should cover 3-6 months of your expenses. For rural families, aim for ₹10,000-50,000 depending on your monthly expenses. This fund should be easily accessible in a savings account.',
                'expenses': 'To reduce expenses: 1) Track all spending for a month, 2) Cut unnecessary subscriptions, 3) Cook at home more often, 4) Use public transport, 5) Buy in bulk for essentials, 6) Compare prices before purchasing.',
                'investing': 'Start with low-risk options: 1) Fixed deposits for guaranteed returns, 2) PPF for long-term savings, 3) Mutual funds for moderate risk, 4) Gold as a hedge. Always invest only what you can afford to lose.',
                'budget': 'Create a simple budget: 1) List all income sources, 2) List all expenses (fixed and variable), 3) Subtract expenses from income, 4) Allocate remaining money to savings and investments. Review monthly.',
                'loan': 'Before taking a loan: 1) Check your credit score, 2) Compare interest rates from different banks, 3) Calculate EMI using online calculators, 4) Ensure EMI is not more than 40% of your income, 5) Read all terms carefully.',
                'default': 'I can help you with budgeting, saving strategies, investment basics, loan information, and general financial planning. Please ask me a specific question about your financial situation, and I\'ll provide personalized advice!'
            };

            const lowerQuestion = question.toLowerCase();
            
            if (lowerQuestion.includes('saving') || lowerQuestion.includes('save')) {
                return responses.saving;
            } else if (lowerQuestion.includes('emergency') || lowerQuestion.includes('fund')) {
                return responses.emergency;
            } else if (lowerQuestion.includes('expense') || lowerQuestion.includes('reduce') || lowerQuestion.includes('cut')) {
                return responses.expenses;
            } else if (lowerQuestion.includes('invest') || lowerQuestion.includes('investment')) {
                return responses.investing;
            } else if (lowerQuestion.includes('budget') || lowerQuestion.includes('budgeting')) {
                return responses.budget;
            } else if (lowerQuestion.includes('loan') || lowerQuestion.includes('borrow')) {
                return responses.loan;
            } else {
                return responses.default;
            }
        }

        // Calculator Functions
        function openCalculator(type) {
            const modal = document.getElementById('calculator-modal');
            const title = document.getElementById('calculator-title');
            const content = document.getElementById('calculator-content');
            
            modal.classList.remove('hidden');
            
            switch(type) {
                case 'emi':
                    title.textContent = 'EMI Calculator';
                    content.innerHTML = `
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Loan Amount (₹)</label>
                                <input type="number" id="loan-amount" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="100000">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Interest Rate (% per year)</label>
                                <input type="number" id="interest-rate" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="12" step="0.1">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Loan Tenure (years)</label>
                                <input type="number" id="loan-tenure" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="5">
                            </div>
                            <button onclick="calculateEMI()" class="w-full btn-primary">Calculate EMI</button>
                            <div id="emi-result" class="hidden p-4 bg-blue-50 rounded-xl border border-blue-200">
                                <h3 class="font-bold text-blue-800 mb-2">EMI Calculation Result</h3>
                                <p class="text-blue-700 text-sm" id="emi-amount"></p>
                                <p class="text-blue-600 text-xs mt-1" id="total-amount"></p>
                            </div>
                        </div>
                    `;
                    break;
                case 'savings':
                    title.textContent = 'Savings Goal Calculator';
                    content.innerHTML = `
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Goal Amount (₹)</label>
                                <input type="number" id="goal-amount" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent" placeholder="100000">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Time Period (years)</label>
                                <input type="number" id="time-period" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent" placeholder="5">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Expected Return (% per year)</label>
                                <input type="number" id="expected-return" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent" placeholder="8" step="0.1">
                            </div>
                            <button onclick="calculateSavings()" class="w-full btn-secondary">Calculate Monthly Savings</button>
                            <div id="savings-result" class="hidden p-4 bg-green-50 rounded-xl border border-green-200">
                                <h3 class="font-bold text-green-800 mb-2">Savings Plan</h3>
                                <p class="text-green-700 text-sm" id="monthly-savings"></p>
                                <p class="text-green-600 text-xs mt-1" id="total-saved"></p>
                            </div>
                        </div>
                    `;
                    break;
                case 'budget':
                    title.textContent = 'Monthly Budget Planner';
                    content.innerHTML = `
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Monthly Income (₹)</label>
                                <input type="number" id="monthly-income" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="30000">
                            </div>
                            <div class="grid grid-cols-2 gap-3">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Rent/EMI (₹)</label>
                                    <input type="number" id="rent" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="8000">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Food (₹)</label>
                                    <input type="number" id="food" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="6000">
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-3">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Transport (₹)</label>
                                    <input type="number" id="transport" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="2000">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Utilities (₹)</label>
                                    <input type="number" id="utilities" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="1500">
                                </div>
                            </div>
                            <button onclick="calculateBudget()" class="w-full btn-primary">Calculate Budget</button>
                            <div id="budget-result" class="hidden p-4 bg-purple-50 rounded-xl border border-purple-200">
                                <h3 class="font-bold text-purple-800 mb-2">Budget Summary</h3>
                                <p class="text-purple-700 text-sm" id="total-expenses"></p>
                                <p class="text-purple-600 text-xs mt-1" id="remaining-amount"></p>
                                <p class="text-purple-500 text-xs mt-1" id="savings-recommendation"></p>
                            </div>
                        </div>
                    `;
                    break;
                case 'investment':
                    title.textContent = 'Investment Returns Calculator';
                    content.innerHTML = `
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Initial Investment (₹)</label>
                                <input type="number" id="initial-investment" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent" placeholder="10000">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Monthly Investment (₹)</label>
                                <input type="number" id="monthly-investment" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent" placeholder="2000">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Expected Return (% per year)</label>
                                <input type="number" id="investment-return" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent" placeholder="12" step="0.1">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Investment Period (years)</label>
                                <input type="number" id="investment-period" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent" placeholder="10">
                            </div>
                            <button onclick="calculateInvestment()" class="w-full btn-secondary">Calculate Returns</button>
                            <div id="investment-result" class="hidden p-4 bg-orange-50 rounded-xl border border-orange-200">
                                <h3 class="font-bold text-orange-800 mb-2">Investment Projection</h3>
                                <p class="text-orange-700 text-sm" id="total-invested"></p>
                                <p class="text-orange-600 text-xs mt-1" id="final-amount"></p>
                                <p class="text-orange-500 text-xs mt-1" id="total-gains"></p>
                            </div>
                        </div>
                    `;
                    break;
            }
        }

        function closeCalculator() {
            document.getElementById('calculator-modal').classList.add('hidden');
        }

        function calculateEMI() {
            const principal = parseFloat(document.getElementById('loan-amount').value);
            const rate = parseFloat(document.getElementById('interest-rate').value);
            const time = parseFloat(document.getElementById('loan-tenure').value);
            
            if (!principal || !rate || !time) {
                showErrorMessage('Please fill all fields');
                return;
            }
            
            const monthlyRate = rate / 12 / 100;
            const months = time * 12;
            const emi = (principal * monthlyRate * Math.pow(1 + monthlyRate, months)) / (Math.pow(1 + monthlyRate, months) - 1);
            const totalAmount = emi * months;
            
            document.getElementById('emi-amount').textContent = `Monthly EMI: ₹${Math.round(emi).toLocaleString()}`;
            document.getElementById('total-amount').textContent = `Total Amount: ₹${Math.round(totalAmount).toLocaleString()}`;
            document.getElementById('emi-result').classList.remove('hidden');
        }

        function calculateSavings() {
            const goal = parseFloat(document.getElementById('goal-amount').value);
            const time = parseFloat(document.getElementById('time-period').value);
            const rate = parseFloat(document.getElementById('expected-return').value);
            
            if (!goal || !time || !rate) {
                showErrorMessage('Please fill all fields');
                return;
            }
            
            const monthlyRate = rate / 12 / 100;
            const months = time * 12;
            const monthlySavings = goal / (((Math.pow(1 + monthlyRate, months) - 1) / monthlyRate));
            const totalSaved = monthlySavings * months;
            
            document.getElementById('monthly-savings').textContent = `Monthly Savings Needed: ₹${Math.round(monthlySavings).toLocaleString()}`;
            document.getElementById('total-saved').textContent = `Total Amount Saved: ₹${Math.round(totalSaved).toLocaleString()}`;
            document.getElementById('savings-result').classList.remove('hidden');
        }

        function calculateBudget() {
            const income = parseFloat(document.getElementById('monthly-income').value);
            const rent = parseFloat(document.getElementById('rent').value) || 0;
            const food = parseFloat(document.getElementById('food').value) || 0;
            const transport = parseFloat(document.getElementById('transport').value) || 0;
            const utilities = parseFloat(document.getElementById('utilities').value) || 0;
            
            if (!income) {
                showErrorMessage('Please enter your monthly income');
                return;
            }
            
            const totalExpenses = rent + food + transport + utilities;
            const remaining = income - totalExpenses;
            const savingsRecommendation = Math.round(income * 0.2);
            
            document.getElementById('total-expenses').textContent = `Total Expenses: ₹${totalExpenses.toLocaleString()}`;
            document.getElementById('remaining-amount').textContent = `Remaining Amount: ₹${remaining.toLocaleString()}`;
            document.getElementById('savings-recommendation').textContent = `Recommended Savings (20%): ₹${savingsRecommendation.toLocaleString()}`;
            document.getElementById('budget-result').classList.remove('hidden');
        }

        function calculateInvestment() {
            const initial = parseFloat(document.getElementById('initial-investment').value) || 0;
            const monthly = parseFloat(document.getElementById('monthly-investment').value);
            const rate = parseFloat(document.getElementById('investment-return').value);
            const time = parseFloat(document.getElementById('investment-period').value);
            
            if (!monthly || !rate || !time) {
                showErrorMessage('Please fill all required fields');
                return;
            }
            
            const monthlyRate = rate / 12 / 100;
            const months = time * 12;
            const futureValueInitial = initial * Math.pow(1 + rate/100, time);
            const futureValueMonthly = monthly * (((Math.pow(1 + monthlyRate, months) - 1) / monthlyRate));
            const finalAmount = futureValueInitial + futureValueMonthly;
            const totalInvested = initial + (monthly * months);
            const totalGains = finalAmount - totalInvested;
            
            document.getElementById('total-invested').textContent = `Total Invested: ₹${Math.round(totalInvested).toLocaleString()}`;
            document.getElementById('final-amount').textContent = `Final Amount: ₹${Math.round(finalAmount).toLocaleString()}`;
            document.getElementById('total-gains').textContent = `Total Gains: ₹${Math.round(totalGains).toLocaleString()}`;
            document.getElementById('investment-result').classList.remove('hidden');
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Udaan Lite with AI Assistant loaded successfully! 🤖');
            
            // Add sparkles every 3 seconds
            setInterval(addSparkles, 3000);
            
            // Update Princess Mode on load
            updatePrincessMode();
        });
    </script>
</body>
</html>


